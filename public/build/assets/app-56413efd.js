var dh=Object.defineProperty;var fh=(n,t,e)=>t in n?dh(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var D=(n,t,e)=>(fh(n,typeof t!="symbol"?t+"":t,e),e);function qo(n,t){return function(){return n.apply(t,arguments)}}const{toString:ph}=Object.prototype,{getPrototypeOf:ps}=Object,si=(n=>t=>{const e=ph.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),zt=n=>(n=n.toLowerCase(),t=>si(t)===n),ri=n=>t=>typeof t===n,{isArray:De}=Array,tn=ri("undefined");function gh(n){return n!==null&&!tn(n)&&n.constructor!==null&&!tn(n.constructor)&&At(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Xo=zt("ArrayBuffer");function mh(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Xo(n.buffer),t}const bh=ri("string"),At=ri("function"),Yo=ri("number"),oi=n=>n!==null&&typeof n=="object",yh=n=>n===!0||n===!1,Ln=n=>{if(si(n)!=="object")return!1;const t=ps(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},_h=zt("Date"),xh=zt("File"),vh=zt("Blob"),wh=zt("FileList"),Sh=n=>oi(n)&&At(n.pipe),kh=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||At(n.append)&&((t=si(n))==="formdata"||t==="object"&&At(n.toString)&&n.toString()==="[object FormData]"))},Ch=zt("URLSearchParams"),Ph=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hn(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),De(n))for(i=0,s=n.length;i<s;i++)t.call(null,n[i],i,n);else{const r=e?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(i=0;i<o;i++)a=r[i],t.call(null,n[a],a,n)}}function Jo(n,t){t=t.toLowerCase();const e=Object.keys(n);let i=e.length,s;for(;i-- >0;)if(s=e[i],t===s.toLowerCase())return s;return null}const Ko=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Go=n=>!tn(n)&&n!==Ko;function $i(){const{caseless:n}=Go(this)&&this||{},t={},e=(i,s)=>{const r=n&&Jo(t,s)||s;Ln(t[r])&&Ln(i)?t[r]=$i(t[r],i):Ln(i)?t[r]=$i({},i):De(i)?t[r]=i.slice():t[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&hn(arguments[i],e);return t}const Th=(n,t,e,{allOwnKeys:i}={})=>(hn(t,(s,r)=>{e&&At(s)?n[r]=qo(s,e):n[r]=s},{allOwnKeys:i}),n),Mh=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Oh=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},Ah=(n,t,e,i)=>{let s,r,o;const a={};if(t=t||{},n==null)return t;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,t))&&!a[o]&&(t[o]=n[o],a[o]=!0);n=e!==!1&&ps(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},Eh=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},Rh=n=>{if(!n)return null;if(De(n))return n;let t=n.length;if(!Yo(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},Dh=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&ps(Uint8Array)),Lh=(n,t)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;t.call(n,r[0],r[1])}},Ih=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},Fh=zt("HTMLFormElement"),Nh=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,s){return i.toUpperCase()+s}),lr=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),zh=zt("RegExp"),Qo=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};hn(e,(s,r)=>{t(s,r,n)!==!1&&(i[r]=s)}),Object.defineProperties(n,i)},Bh=n=>{Qo(n,(t,e)=>{if(At(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(At(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},jh=(n,t)=>{const e={},i=s=>{s.forEach(r=>{e[r]=!0})};return De(n)?i(n):i(String(n).split(t)),e},Hh=()=>{},Wh=(n,t)=>(n=+n,Number.isFinite(n)?n:t),Oi="abcdefghijklmnopqrstuvwxyz",hr="0123456789",Zo={DIGIT:hr,ALPHA:Oi,ALPHA_DIGIT:Oi+Oi.toUpperCase()+hr},Vh=(n=16,t=Zo.ALPHA_DIGIT)=>{let e="";const{length:i}=t;for(;n--;)e+=t[Math.random()*i|0];return e};function Uh(n){return!!(n&&At(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const $h=n=>{const t=new Array(10),e=(i,s)=>{if(oi(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[s]=i;const r=De(i)?[]:{};return hn(i,(o,a)=>{const c=e(o,s+1);!tn(c)&&(r[a]=c)}),t[s]=void 0,r}}return i};return e(n,0)},qh=zt("AsyncFunction"),Xh=n=>n&&(oi(n)||At(n))&&At(n.then)&&At(n.catch),T={isArray:De,isArrayBuffer:Xo,isBuffer:gh,isFormData:kh,isArrayBufferView:mh,isString:bh,isNumber:Yo,isBoolean:yh,isObject:oi,isPlainObject:Ln,isUndefined:tn,isDate:_h,isFile:xh,isBlob:vh,isRegExp:zh,isFunction:At,isStream:Sh,isURLSearchParams:Ch,isTypedArray:Dh,isFileList:wh,forEach:hn,merge:$i,extend:Th,trim:Ph,stripBOM:Mh,inherits:Oh,toFlatObject:Ah,kindOf:si,kindOfTest:zt,endsWith:Eh,toArray:Rh,forEachEntry:Lh,matchAll:Ih,isHTMLForm:Fh,hasOwnProperty:lr,hasOwnProp:lr,reduceDescriptors:Qo,freezeMethods:Bh,toObjectSet:jh,toCamelCase:Nh,noop:Hh,toFiniteNumber:Wh,findKey:Jo,global:Ko,isContextDefined:Go,ALPHABET:Zo,generateString:Vh,isSpecCompliantForm:Uh,toJSONObject:$h,isAsyncFn:qh,isThenable:Xh};function V(n,t,e,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),s&&(this.response=s)}T.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ta=V.prototype,ea={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ea[n]={value:n}});Object.defineProperties(V,ea);Object.defineProperty(ta,"isAxiosError",{value:!0});V.from=(n,t,e,i,s,r)=>{const o=Object.create(ta);return T.toFlatObject(n,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),V.call(o,n.message,t,e,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const Yh=null;function qi(n){return T.isPlainObject(n)||T.isArray(n)}function na(n){return T.endsWith(n,"[]")?n.slice(0,-2):n}function ur(n,t,e){return n?n.concat(t).map(function(s,r){return s=na(s),!e&&r?"["+s+"]":s}).join(e?".":""):t}function Jh(n){return T.isArray(n)&&!n.some(qi)}const Kh=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function ai(n,t,e){if(!T.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=T.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,x){return!T.isUndefined(x[_])});const i=e.metaTokens,s=e.visitor||u,r=e.dots,o=e.indexes,c=(e.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(s))throw new TypeError("visitor must be a function");function l(b){if(b===null)return"";if(T.isDate(b))return b.toISOString();if(!c&&T.isBlob(b))throw new V("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(b)||T.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,_,x){let w=b;if(b&&!x&&typeof b=="object"){if(T.endsWith(_,"{}"))_=i?_:_.slice(0,-2),b=JSON.stringify(b);else if(T.isArray(b)&&Jh(b)||(T.isFileList(b)||T.endsWith(_,"[]"))&&(w=T.toArray(b)))return _=na(_),w.forEach(function(C,M){!(T.isUndefined(C)||C===null)&&t.append(o===!0?ur([_],M,r):o===null?_:_+"[]",l(C))}),!1}return qi(b)?!0:(t.append(ur(x,_,r),l(b)),!1)}const p=[],g=Object.assign(Kh,{defaultVisitor:u,convertValue:l,isVisitable:qi});function m(b,_){if(!T.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(b),T.forEach(b,function(w,S){(!(T.isUndefined(w)||w===null)&&s.call(t,w,T.isString(S)?S.trim():S,_,g))===!0&&m(w,_?_.concat(S):[S])}),p.pop()}}if(!T.isObject(n))throw new TypeError("data must be an object");return m(n),t}function dr(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function gs(n,t){this._pairs=[],n&&ai(n,this,t)}const ia=gs.prototype;ia.append=function(t,e){this._pairs.push([t,e])};ia.toString=function(t){const e=t?function(i){return t.call(this,i,dr)}:dr;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function Gh(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sa(n,t,e){if(!t)return n;const i=e&&e.encode||Gh,s=e&&e.serialize;let r;if(s?r=s(t,e):r=T.isURLSearchParams(t)?t.toString():new gs(t,e).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class Qh{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(i){i!==null&&t(i)})}}const fr=Qh,ra={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zh=typeof URLSearchParams<"u"?URLSearchParams:gs,tu=typeof FormData<"u"?FormData:null,eu=typeof Blob<"u"?Blob:null,nu=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),iu=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ft={isBrowser:!0,classes:{URLSearchParams:Zh,FormData:tu,Blob:eu},isStandardBrowserEnv:nu,isStandardBrowserWebWorkerEnv:iu,protocols:["http","https","file","blob","url","data"]};function su(n,t){return ai(n,new Ft.classes.URLSearchParams,Object.assign({visitor:function(e,i,s,r){return Ft.isNode&&T.isBuffer(e)?(this.append(i,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function ru(n){return T.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ou(n){const t={},e=Object.keys(n);let i;const s=e.length;let r;for(i=0;i<s;i++)r=e[i],t[r]=n[r];return t}function oa(n){function t(e,i,s,r){let o=e[r++];const a=Number.isFinite(+o),c=r>=e.length;return o=!o&&T.isArray(s)?s.length:o,c?(T.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!T.isObject(s[o]))&&(s[o]=[]),t(e,i,s[o],r)&&T.isArray(s[o])&&(s[o]=ou(s[o])),!a)}if(T.isFormData(n)&&T.isFunction(n.entries)){const e={};return T.forEachEntry(n,(i,s)=>{t(ru(i),s,e,0)}),e}return null}const au={"Content-Type":void 0};function cu(n,t,e){if(T.isString(n))try{return(t||JSON.parse)(n),T.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const ci={transitional:ra,adapter:["xhr","http"],transformRequest:[function(t,e){const i=e.getContentType()||"",s=i.indexOf("application/json")>-1,r=T.isObject(t);if(r&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return s&&s?JSON.stringify(oa(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return su(t,this.formSerializer).toString();if((a=T.isFileList(t))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ai(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||s?(e.setContentType("application/json",!1),cu(t)):t}],transformResponse:[function(t){const e=this.transitional||ci.transitional,i=e&&e.forcedJSONParsing,s=this.responseType==="json";if(t&&T.isString(t)&&(i&&!this.responseType||s)){const o=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?V.from(a,V.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};T.forEach(["delete","get","head"],function(t){ci.headers[t]={}});T.forEach(["post","put","patch"],function(t){ci.headers[t]=T.merge(au)});const ms=ci,lu=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hu=n=>{const t={};let e,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),e=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!e||t[e]&&lu[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},pr=Symbol("internals");function Ne(n){return n&&String(n).trim().toLowerCase()}function In(n){return n===!1||n==null?n:T.isArray(n)?n.map(In):String(n)}function uu(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const du=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ai(n,t,e,i,s){if(T.isFunction(i))return i.call(this,t,e);if(s&&(t=e),!!T.isString(t)){if(T.isString(i))return t.indexOf(i)!==-1;if(T.isRegExp(i))return i.test(t)}}function fu(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function pu(n,t){const e=T.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(s,r,o){return this[i].call(this,t,s,r,o)},configurable:!0})})}class li{constructor(t){t&&this.set(t)}set(t,e,i){const s=this;function r(a,c,l){const u=Ne(c);if(!u)throw new Error("header name must be a non-empty string");const p=T.findKey(s,u);(!p||s[p]===void 0||l===!0||l===void 0&&s[p]!==!1)&&(s[p||c]=In(a))}const o=(a,c)=>T.forEach(a,(l,u)=>r(l,u,c));return T.isPlainObject(t)||t instanceof this.constructor?o(t,e):T.isString(t)&&(t=t.trim())&&!du(t)?o(hu(t),e):t!=null&&r(e,t,i),this}get(t,e){if(t=Ne(t),t){const i=T.findKey(this,t);if(i){const s=this[i];if(!e)return s;if(e===!0)return uu(s);if(T.isFunction(e))return e.call(this,s,i);if(T.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ne(t),t){const i=T.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||Ai(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let s=!1;function r(o){if(o=Ne(o),o){const a=T.findKey(i,o);a&&(!e||Ai(i,i[a],a,e))&&(delete i[a],s=!0)}}return T.isArray(t)?t.forEach(r):r(t),s}clear(t){const e=Object.keys(this);let i=e.length,s=!1;for(;i--;){const r=e[i];(!t||Ai(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const e=this,i={};return T.forEach(this,(s,r)=>{const o=T.findKey(i,r);if(o){e[o]=In(s),delete e[r];return}const a=t?fu(r):String(r).trim();a!==r&&delete e[r],e[a]=In(s),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return T.forEach(this,(i,s)=>{i!=null&&i!==!1&&(e[s]=t&&T.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[pr]=this[pr]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=Ne(o);i[a]||(pu(s,o),i[a]=!0)}return T.isArray(t)?t.forEach(r):r(t),this}}li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.freezeMethods(li.prototype);T.freezeMethods(li);const Kt=li;function Ei(n,t){const e=this||ms,i=t||e,s=Kt.from(i.headers);let r=i.data;return T.forEach(n,function(a){r=a.call(e,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function aa(n){return!!(n&&n.__CANCEL__)}function un(n,t,e){V.call(this,n??"canceled",V.ERR_CANCELED,t,e),this.name="CanceledError"}T.inherits(un,V,{__CANCEL__:!0});function gu(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new V("Request failed with status code "+e.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}const mu=Ft.isStandardBrowserEnv?function(){return{write:function(e,i,s,r,o,a){const c=[];c.push(e+"="+encodeURIComponent(i)),T.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),T.isString(r)&&c.push("path="+r),T.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){const i=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function bu(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function yu(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n}function ca(n,t){return n&&!bu(t)?yu(n,t):t}const _u=Ft.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function s(r){let o=r;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return i=s(window.location.href),function(o){const a=T.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function xu(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function vu(n,t){n=n||10;const e=new Array(n),i=new Array(n);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=i[r];o||(o=l),e[s]=c,i[s]=l;let p=r,g=0;for(;p!==s;)g+=e[p++],p=p%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),l-o<t)return;const m=u&&l-u;return m?Math.round(g*1e3/m):void 0}}function gr(n,t){let e=0;const i=vu(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-e,c=i(a),l=r<=o;e=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&l?(o-r)/c:void 0,event:s};u[t?"download":"upload"]=!0,n(u)}}const wu=typeof XMLHttpRequest<"u",Su=wu&&function(n){return new Promise(function(e,i){let s=n.data;const r=Kt.from(n.headers).normalize(),o=n.responseType;let a;function c(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}T.isFormData(s)&&(Ft.isStandardBrowserEnv||Ft.isStandardBrowserWebWorkerEnv?r.setContentType(!1):r.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(n.auth){const m=n.auth.username||"",b=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";r.set("Authorization","Basic "+btoa(m+":"+b))}const u=ca(n.baseURL,n.url);l.open(n.method.toUpperCase(),sa(u,n.params,n.paramsSerializer),!0),l.timeout=n.timeout;function p(){if(!l)return;const m=Kt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:m,config:n,request:l};gu(function(w){e(w),c()},function(w){i(w),c()},_),l=null}if("onloadend"in l?l.onloadend=p:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(p)},l.onabort=function(){l&&(i(new V("Request aborted",V.ECONNABORTED,n,l)),l=null)},l.onerror=function(){i(new V("Network Error",V.ERR_NETWORK,n,l)),l=null},l.ontimeout=function(){let b=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||ra;n.timeoutErrorMessage&&(b=n.timeoutErrorMessage),i(new V(b,_.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,n,l)),l=null},Ft.isStandardBrowserEnv){const m=(n.withCredentials||_u(u))&&n.xsrfCookieName&&mu.read(n.xsrfCookieName);m&&r.set(n.xsrfHeaderName,m)}s===void 0&&r.setContentType(null),"setRequestHeader"in l&&T.forEach(r.toJSON(),function(b,_){l.setRequestHeader(_,b)}),T.isUndefined(n.withCredentials)||(l.withCredentials=!!n.withCredentials),o&&o!=="json"&&(l.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&l.addEventListener("progress",gr(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",gr(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=m=>{l&&(i(!m||m.type?new un(null,n,l):m),l.abort(),l=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const g=xu(u);if(g&&Ft.protocols.indexOf(g)===-1){i(new V("Unsupported protocol "+g+":",V.ERR_BAD_REQUEST,n));return}l.send(s||null)})},Fn={http:Yh,xhr:Su};T.forEach(Fn,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const ku={getAdapter:n=>{n=T.isArray(n)?n:[n];const{length:t}=n;let e,i;for(let s=0;s<t&&(e=n[s],!(i=T.isString(e)?Fn[e.toLowerCase()]:e));s++);if(!i)throw i===!1?new V(`Adapter ${e} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(T.hasOwnProp(Fn,e)?`Adapter '${e}' is not available in the build`:`Unknown adapter '${e}'`);if(!T.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Fn};function Ri(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new un(null,n)}function mr(n){return Ri(n),n.headers=Kt.from(n.headers),n.data=Ei.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ku.getAdapter(n.adapter||ms.adapter)(n).then(function(i){return Ri(n),i.data=Ei.call(n,n.transformResponse,i),i.headers=Kt.from(i.headers),i},function(i){return aa(i)||(Ri(n),i&&i.response&&(i.response.data=Ei.call(n,n.transformResponse,i.response),i.response.headers=Kt.from(i.response.headers))),Promise.reject(i)})}const br=n=>n instanceof Kt?n.toJSON():n;function Oe(n,t){t=t||{};const e={};function i(l,u,p){return T.isPlainObject(l)&&T.isPlainObject(u)?T.merge.call({caseless:p},l,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function s(l,u,p){if(T.isUndefined(u)){if(!T.isUndefined(l))return i(void 0,l,p)}else return i(l,u,p)}function r(l,u){if(!T.isUndefined(u))return i(void 0,u)}function o(l,u){if(T.isUndefined(u)){if(!T.isUndefined(l))return i(void 0,l)}else return i(void 0,u)}function a(l,u,p){if(p in t)return i(l,u);if(p in n)return i(void 0,l)}const c={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>s(br(l),br(u),!0)};return T.forEach(Object.keys(Object.assign({},n,t)),function(u){const p=c[u]||s,g=p(n[u],t[u],u);T.isUndefined(g)&&p!==a||(e[u]=g)}),e}const la="1.4.0",bs={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{bs[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const yr={};bs.transitional=function(t,e,i){function s(r,o){return"[Axios v"+la+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(t===!1)throw new V(s(o," has been removed"+(e?" in "+e:"")),V.ERR_DEPRECATED);return e&&!yr[o]&&(yr[o]=!0,console.warn(s(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(r,o,a):!0}};function Cu(n,t,e){if(typeof n!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=t[r];if(o){const a=n[r],c=a===void 0||o(a,r,n);if(c!==!0)throw new V("option "+r+" must be "+c,V.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new V("Unknown option "+r,V.ERR_BAD_OPTION)}}const Xi={assertOptions:Cu,validators:bs},Qt=Xi.validators;class Xn{constructor(t){this.defaults=t,this.interceptors={request:new fr,response:new fr}}request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Oe(this.defaults,e);const{transitional:i,paramsSerializer:s,headers:r}=e;i!==void 0&&Xi.assertOptions(i,{silentJSONParsing:Qt.transitional(Qt.boolean),forcedJSONParsing:Qt.transitional(Qt.boolean),clarifyTimeoutError:Qt.transitional(Qt.boolean)},!1),s!=null&&(T.isFunction(s)?e.paramsSerializer={serialize:s}:Xi.assertOptions(s,{encode:Qt.function,serialize:Qt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o;o=r&&T.merge(r.common,r[e.method]),o&&T.forEach(["delete","get","head","post","put","patch","common"],b=>{delete r[b]}),e.headers=Kt.concat(o,r);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const l=[];this.interceptors.response.forEach(function(_){l.push(_.fulfilled,_.rejected)});let u,p=0,g;if(!c){const b=[mr.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,l),g=b.length,u=Promise.resolve(e);p<g;)u=u.then(b[p++],b[p++]);return u}g=a.length;let m=e;for(p=0;p<g;){const b=a[p++],_=a[p++];try{m=b(m)}catch(x){_.call(this,x);break}}try{u=mr.call(this,m)}catch(b){return Promise.reject(b)}for(p=0,g=l.length;p<g;)u=u.then(l[p++],l[p++]);return u}getUri(t){t=Oe(this.defaults,t);const e=ca(t.baseURL,t.url);return sa(e,t.params,t.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(t){Xn.prototype[t]=function(e,i){return this.request(Oe(i||{},{method:t,url:e,data:(i||{}).data}))}});T.forEach(["post","put","patch"],function(t){function e(i){return function(r,o,a){return this.request(Oe(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Xn.prototype[t]=e(),Xn.prototype[t+"Form"]=e(!0)});const Nn=Xn;class ys{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(r){e=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},t(function(r,o,a){i.reason||(i.reason=new un(r,o,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}static source(){let t;return{token:new ys(function(s){t=s}),cancel:t}}}const Pu=ys;function Tu(n){return function(e){return n.apply(null,e)}}function Mu(n){return T.isObject(n)&&n.isAxiosError===!0}const Yi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yi).forEach(([n,t])=>{Yi[t]=n});const Ou=Yi;function ha(n){const t=new Nn(n),e=qo(Nn.prototype.request,t);return T.extend(e,Nn.prototype,t,{allOwnKeys:!0}),T.extend(e,t,null,{allOwnKeys:!0}),e.create=function(s){return ha(Oe(n,s))},e}const dt=ha(ms);dt.Axios=Nn;dt.CanceledError=un;dt.CancelToken=Pu;dt.isCancel=aa;dt.VERSION=la;dt.toFormData=ai;dt.AxiosError=V;dt.Cancel=dt.CanceledError;dt.all=function(t){return Promise.all(t)};dt.spread=Tu;dt.isAxiosError=Mu;dt.mergeConfig=Oe;dt.AxiosHeaders=Kt;dt.formToJSON=n=>oa(T.isHTMLForm(n)?new FormData(n):n);dt.HttpStatusCode=Ou;dt.default=dt;const Au=dt;function Ji(n){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(n)}function gt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function mt(n,t,e){return t&&_r(n.prototype,t),e&&_r(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ki(){return Ki=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ki.apply(this,arguments)}function Tt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Gi(n,t)}function Yn(n){return Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(n)}function Gi(n,t){return Gi=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Gi(n,t)}function Eu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ru(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Du(n,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ru(n)}function Mt(n){var t=Eu();return function(){var i=Yn(n),s;if(t){var r=Yn(this).constructor;s=Reflect.construct(i,arguments,r)}else s=i.apply(this,arguments);return Du(this,s)}}var _s=function(){function n(){gt(this,n)}return mt(n,[{key:"listenForWhisper",value:function(e,i){return this.listen(".client-"+e,i)}},{key:"notification",value:function(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}},{key:"stopListeningForWhisper",value:function(e,i){return this.stopListening(".client-"+e,i)}}]),n}(),ua=function(){function n(t){gt(this,n),this.namespace=t}return mt(n,[{key:"format",value:function(e){return e.charAt(0)==="."||e.charAt(0)==="\\"?e.substr(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(e){this.namespace=e}}]),n}(),hi=function(n){Tt(e,n);var t=Mt(e);function e(i,s,r){var o;return gt(this,e),o=t.call(this),o.name=s,o.pusher=i,o.options=r,o.eventFormatter=new ua(o.options.namespace),o.subscribe(),o}return mt(e,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(s,r){return this.on(this.eventFormatter.format(s),r),this}},{key:"listenToAll",value:function(s){var r=this;return this.subscription.bind_global(function(o,a){if(!o.startsWith("pusher:")){var c=r.options.namespace.replace(/\./g,"\\"),l=o.startsWith(c)?o.substring(c.length+1):"."+o;s(l,a)}}),this}},{key:"stopListening",value:function(s,r){return r?this.subscription.unbind(this.eventFormatter.format(s),r):this.subscription.unbind(this.eventFormatter.format(s)),this}},{key:"stopListeningToAll",value:function(s){return s?this.subscription.unbind_global(s):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(s){return this.on("pusher:subscription_succeeded",function(){s()}),this}},{key:"error",value:function(s){return this.on("pusher:subscription_error",function(r){s(r)}),this}},{key:"on",value:function(s,r){return this.subscription.bind(s,r),this}}]),e}(_s),Lu=function(n){Tt(e,n);var t=Mt(e);function e(){return gt(this,e),t.apply(this,arguments)}return mt(e,[{key:"whisper",value:function(s,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),r),this}}]),e}(hi),Iu=function(n){Tt(e,n);var t=Mt(e);function e(){return gt(this,e),t.apply(this,arguments)}return mt(e,[{key:"whisper",value:function(s,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),r),this}}]),e}(hi),Fu=function(n){Tt(e,n);var t=Mt(e);function e(){return gt(this,e),t.apply(this,arguments)}return mt(e,[{key:"here",value:function(s){return this.on("pusher:subscription_succeeded",function(r){s(Object.keys(r.members).map(function(o){return r.members[o]}))}),this}},{key:"joining",value:function(s){return this.on("pusher:member_added",function(r){s(r.info)}),this}},{key:"whisper",value:function(s,r){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),r),this}},{key:"leaving",value:function(s){return this.on("pusher:member_removed",function(r){s(r.info)}),this}}]),e}(hi),da=function(n){Tt(e,n);var t=Mt(e);function e(i,s,r){var o;return gt(this,e),o=t.call(this),o.events={},o.listeners={},o.name=s,o.socket=i,o.options=r,o.eventFormatter=new ua(o.options.namespace),o.subscribe(),o}return mt(e,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(s,r){return this.on(this.eventFormatter.format(s),r),this}},{key:"stopListening",value:function(s,r){return this.unbindEvent(this.eventFormatter.format(s),r),this}},{key:"subscribed",value:function(s){return this.on("connect",function(r){s(r)}),this}},{key:"error",value:function(s){return this}},{key:"on",value:function(s,r){var o=this;return this.listeners[s]=this.listeners[s]||[],this.events[s]||(this.events[s]=function(a,c){o.name===a&&o.listeners[s]&&o.listeners[s].forEach(function(l){return l(c)})},this.socket.on(s,this.events[s])),this.listeners[s].push(r),this}},{key:"unbind",value:function(){var s=this;Object.keys(this.events).forEach(function(r){s.unbindEvent(r)})}},{key:"unbindEvent",value:function(s,r){this.listeners[s]=this.listeners[s]||[],r&&(this.listeners[s]=this.listeners[s].filter(function(o){return o!==r})),(!r||this.listeners[s].length===0)&&(this.events[s]&&(this.socket.removeListener(s,this.events[s]),delete this.events[s]),delete this.listeners[s])}}]),e}(_s),fa=function(n){Tt(e,n);var t=Mt(e);function e(){return gt(this,e),t.apply(this,arguments)}return mt(e,[{key:"whisper",value:function(s,r){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(s),data:r}),this}}]),e}(da),Nu=function(n){Tt(e,n);var t=Mt(e);function e(){return gt(this,e),t.apply(this,arguments)}return mt(e,[{key:"here",value:function(s){return this.on("presence:subscribed",function(r){s(r.map(function(o){return o.user_info}))}),this}},{key:"joining",value:function(s){return this.on("presence:joining",function(r){return s(r.user_info)}),this}},{key:"whisper",value:function(s,r){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(s),data:r}),this}},{key:"leaving",value:function(s){return this.on("presence:leaving",function(r){return s(r.user_info)}),this}}]),e}(fa),Jn=function(n){Tt(e,n);var t=Mt(e);function e(){return gt(this,e),t.apply(this,arguments)}return mt(e,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(s,r){return this}},{key:"listenToAll",value:function(s){return this}},{key:"stopListening",value:function(s,r){return this}},{key:"subscribed",value:function(s){return this}},{key:"error",value:function(s){return this}},{key:"on",value:function(s,r){return this}}]),e}(_s),xr=function(n){Tt(e,n);var t=Mt(e);function e(){return gt(this,e),t.apply(this,arguments)}return mt(e,[{key:"whisper",value:function(s,r){return this}}]),e}(Jn),zu=function(n){Tt(e,n);var t=Mt(e);function e(){return gt(this,e),t.apply(this,arguments)}return mt(e,[{key:"here",value:function(s){return this}},{key:"joining",value:function(s){return this}},{key:"whisper",value:function(s,r){return this}},{key:"leaving",value:function(s){return this}}]),e}(Jn),xs=function(){function n(t){gt(this,n),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}return mt(n,[{key:"setOptions",value:function(e){this.options=Ki(this._defaultOptions,e);var i=this.csrfToken();return i&&(this.options.auth.headers["X-CSRF-TOKEN"]=i,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=i),i=this.options.bearerToken,i&&(this.options.auth.headers.Authorization="Bearer "+i,this.options.userAuthentication.headers.Authorization="Bearer "+i),e}},{key:"csrfToken",value:function(){var e;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(e=document.querySelector('meta[name="csrf-token"]'))?e.getAttribute("content"):null}}]),n}(),Bu=function(n){Tt(e,n);var t=Mt(e);function e(){var i;return gt(this,e),i=t.apply(this,arguments),i.channels={},i}return mt(e,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(s,r,o){return this.channel(s).listen(r,o)}},{key:"channel",value:function(s){return this.channels[s]||(this.channels[s]=new hi(this.pusher,s,this.options)),this.channels[s]}},{key:"privateChannel",value:function(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new Lu(this.pusher,"private-"+s,this.options)),this.channels["private-"+s]}},{key:"encryptedPrivateChannel",value:function(s){return this.channels["private-encrypted-"+s]||(this.channels["private-encrypted-"+s]=new Iu(this.pusher,"private-encrypted-"+s,this.options)),this.channels["private-encrypted-"+s]}},{key:"presenceChannel",value:function(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new Fu(this.pusher,"presence-"+s,this.options)),this.channels["presence-"+s]}},{key:"leave",value:function(s){var r=this,o=[s,"private-"+s,"private-encrypted-"+s,"presence-"+s];o.forEach(function(a,c){r.leaveChannel(a)})}},{key:"leaveChannel",value:function(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),e}(xs),ju=function(n){Tt(e,n);var t=Mt(e);function e(){var i;return gt(this,e),i=t.apply(this,arguments),i.channels={},i}return mt(e,[{key:"connect",value:function(){var s=this,r=this.getSocketIO();return this.socket=r(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(s.channels).forEach(function(o){o.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(s,r,o){return this.channel(s).listen(r,o)}},{key:"channel",value:function(s){return this.channels[s]||(this.channels[s]=new da(this.socket,s,this.options)),this.channels[s]}},{key:"privateChannel",value:function(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new fa(this.socket,"private-"+s,this.options)),this.channels["private-"+s]}},{key:"presenceChannel",value:function(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new Nu(this.socket,"presence-"+s,this.options)),this.channels["presence-"+s]}},{key:"leave",value:function(s){var r=this,o=[s,"private-"+s,"presence-"+s];o.forEach(function(a){r.leaveChannel(a)})}},{key:"leaveChannel",value:function(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),e}(xs),Hu=function(n){Tt(e,n);var t=Mt(e);function e(){var i;return gt(this,e),i=t.apply(this,arguments),i.channels={},i}return mt(e,[{key:"connect",value:function(){}},{key:"listen",value:function(s,r,o){return new Jn}},{key:"channel",value:function(s){return new Jn}},{key:"privateChannel",value:function(s){return new xr}},{key:"encryptedPrivateChannel",value:function(s){return new xr}},{key:"presenceChannel",value:function(s){return new zu}},{key:"leave",value:function(s){}},{key:"leaveChannel",value:function(s){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),e}(xs),Wu=function(){function n(t){gt(this,n),this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return mt(n,[{key:"channel",value:function(e){return this.connector.channel(e)}},{key:"connect",value:function(){this.options.broadcaster=="pusher"?this.connector=new Bu(this.options):this.options.broadcaster=="socket.io"?this.connector=new ju(this.options):this.options.broadcaster=="null"?this.connector=new Hu(this.options):typeof this.options.broadcaster=="function"&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(e){return this.connector.presenceChannel(e)}},{key:"leave",value:function(e){this.connector.leave(e)}},{key:"leaveChannel",value:function(e){this.connector.leaveChannel(e)}},{key:"leaveAllChannels",value:function(){for(var e in this.connector.channels)this.leaveChannel(e)}},{key:"listen",value:function(e,i,s){return this.connector.listen(e,i,s)}},{key:"private",value:function(e){return this.connector.privateChannel(e)}},{key:"encryptedPrivate",value:function(e){return this.connector.encryptedPrivateChannel(e)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":Ji(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var e=this;Vue.http.interceptors.push(function(i,s){e.socketId()&&i.headers.set("X-Socket-ID",e.socketId()),s()})}},{key:"registerAxiosRequestInterceptor",value:function(){var e=this;axios.interceptors.request.use(function(i){return e.socketId()&&(i.headers["X-Socket-Id"]=e.socketId()),i})}},{key:"registerjQueryAjaxSetup",value:function(){var e=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(i,s,r){e.socketId()&&r.setRequestHeader("X-Socket-Id",e.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var e=this;document.addEventListener("turbo:before-fetch-request",function(i){i.detail.fetchOptions.headers["X-Socket-Id"]=e.socketId()})}}]),n}();function Vu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pa={exports:{}};/*!
 * Pusher JavaScript Library v8.3.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(n,t){(function(i,s){n.exports=s()})(window,function(){return function(e){var i={};function s(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=e,s.c=i,s.d=function(r,o,a){s.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:a})},s.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},s.t=function(r,o){if(o&1&&(r=s(r)),o&8||o&4&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),o&2&&typeof r!="string")for(var c in r)s.d(a,c,(function(l){return r[l]}).bind(null,c));return a},s.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(o,"a",o),o},s.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},s.p="",s(s.s=2)}([function(e,i,s){var r=this&&this.__extends||function(){var _=function(x,w){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var M in C)C.hasOwnProperty(M)&&(S[M]=C[M])},_(x,w)};return function(x,w){_(x,w);function S(){this.constructor=x}x.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=256,a=function(){function _(x){x===void 0&&(x="="),this._paddingCharacter=x}return _.prototype.encodedLength=function(x){return this._paddingCharacter?(x+2)/3*4|0:(x*8+5)/6|0},_.prototype.encode=function(x){for(var w="",S=0;S<x.length-2;S+=3){var C=x[S]<<16|x[S+1]<<8|x[S+2];w+=this._encodeByte(C>>>3*6&63),w+=this._encodeByte(C>>>2*6&63),w+=this._encodeByte(C>>>1*6&63),w+=this._encodeByte(C>>>0*6&63)}var M=x.length-S;if(M>0){var C=x[S]<<16|(M===2?x[S+1]<<8:0);w+=this._encodeByte(C>>>3*6&63),w+=this._encodeByte(C>>>2*6&63),M===2?w+=this._encodeByte(C>>>1*6&63):w+=this._paddingCharacter||"",w+=this._paddingCharacter||""}return w},_.prototype.maxDecodedLength=function(x){return this._paddingCharacter?x/4*3|0:(x*6+7)/8|0},_.prototype.decodedLength=function(x){return this.maxDecodedLength(x.length-this._getPaddingLength(x))},_.prototype.decode=function(x){if(x.length===0)return new Uint8Array(0);for(var w=this._getPaddingLength(x),S=x.length-w,C=new Uint8Array(this.maxDecodedLength(S)),M=0,k=0,O=0,E=0,A=0,L=0,F=0;k<S-4;k+=4)E=this._decodeChar(x.charCodeAt(k+0)),A=this._decodeChar(x.charCodeAt(k+1)),L=this._decodeChar(x.charCodeAt(k+2)),F=this._decodeChar(x.charCodeAt(k+3)),C[M++]=E<<2|A>>>4,C[M++]=A<<4|L>>>2,C[M++]=L<<6|F,O|=E&o,O|=A&o,O|=L&o,O|=F&o;if(k<S-1&&(E=this._decodeChar(x.charCodeAt(k)),A=this._decodeChar(x.charCodeAt(k+1)),C[M++]=E<<2|A>>>4,O|=E&o,O|=A&o),k<S-2&&(L=this._decodeChar(x.charCodeAt(k+2)),C[M++]=A<<4|L>>>2,O|=L&o),k<S-3&&(F=this._decodeChar(x.charCodeAt(k+3)),C[M++]=L<<6|F,O|=F&o),O!==0)throw new Error("Base64Coder: incorrect characters for decoding");return C},_.prototype._encodeByte=function(x){var w=x;return w+=65,w+=25-x>>>8&0-65-26+97,w+=51-x>>>8&26-97-52+48,w+=61-x>>>8&52-48-62+43,w+=62-x>>>8&62-43-63+47,String.fromCharCode(w)},_.prototype._decodeChar=function(x){var w=o;return w+=(42-x&x-44)>>>8&-o+x-43+62,w+=(46-x&x-48)>>>8&-o+x-47+63,w+=(47-x&x-58)>>>8&-o+x-48+52,w+=(64-x&x-91)>>>8&-o+x-65+0,w+=(96-x&x-123)>>>8&-o+x-97+26,w},_.prototype._getPaddingLength=function(x){var w=0;if(this._paddingCharacter){for(var S=x.length-1;S>=0&&x[S]===this._paddingCharacter;S--)w++;if(x.length<4||w>2)throw new Error("Base64Coder: incorrect padding")}return w},_}();i.Coder=a;var c=new a;function l(_){return c.encode(_)}i.encode=l;function u(_){return c.decode(_)}i.decode=u;var p=function(_){r(x,_);function x(){return _!==null&&_.apply(this,arguments)||this}return x.prototype._encodeByte=function(w){var S=w;return S+=65,S+=25-w>>>8&0-65-26+97,S+=51-w>>>8&26-97-52+48,S+=61-w>>>8&52-48-62+45,S+=62-w>>>8&62-45-63+95,String.fromCharCode(S)},x.prototype._decodeChar=function(w){var S=o;return S+=(44-w&w-46)>>>8&-o+w-45+62,S+=(94-w&w-96)>>>8&-o+w-95+63,S+=(47-w&w-58)>>>8&-o+w-48+52,S+=(64-w&w-91)>>>8&-o+w-65+0,S+=(96-w&w-123)>>>8&-o+w-97+26,S},x}(a);i.URLSafeCoder=p;var g=new p;function m(_){return g.encode(_)}i.encodeURLSafe=m;function b(_){return g.decode(_)}i.decodeURLSafe=b,i.encodedLength=function(_){return c.encodedLength(_)},i.maxDecodedLength=function(_){return c.maxDecodedLength(_)},i.decodedLength=function(_){return c.decodedLength(_)}},function(e,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r="utf8: invalid string",o="utf8: invalid source encoding";function a(u){for(var p=new Uint8Array(c(u)),g=0,m=0;m<u.length;m++){var b=u.charCodeAt(m);b<128?p[g++]=b:b<2048?(p[g++]=192|b>>6,p[g++]=128|b&63):b<55296?(p[g++]=224|b>>12,p[g++]=128|b>>6&63,p[g++]=128|b&63):(m++,b=(b&1023)<<10,b|=u.charCodeAt(m)&1023,b+=65536,p[g++]=240|b>>18,p[g++]=128|b>>12&63,p[g++]=128|b>>6&63,p[g++]=128|b&63)}return p}i.encode=a;function c(u){for(var p=0,g=0;g<u.length;g++){var m=u.charCodeAt(g);if(m<128)p+=1;else if(m<2048)p+=2;else if(m<55296)p+=3;else if(m<=57343){if(g>=u.length-1)throw new Error(r);g++,p+=4}else throw new Error(r)}return p}i.encodedLength=c;function l(u){for(var p=[],g=0;g<u.length;g++){var m=u[g];if(m&128){var b=void 0;if(m<224){if(g>=u.length)throw new Error(o);var _=u[++g];if((_&192)!==128)throw new Error(o);m=(m&31)<<6|_&63,b=128}else if(m<240){if(g>=u.length-1)throw new Error(o);var _=u[++g],x=u[++g];if((_&192)!==128||(x&192)!==128)throw new Error(o);m=(m&15)<<12|(_&63)<<6|x&63,b=2048}else if(m<248){if(g>=u.length-2)throw new Error(o);var _=u[++g],x=u[++g],w=u[++g];if((_&192)!==128||(x&192)!==128||(w&192)!==128)throw new Error(o);m=(m&15)<<18|(_&63)<<12|(x&63)<<6|w&63,b=65536}else throw new Error(o);if(m<b||m>=55296&&m<=57343)throw new Error(o);if(m>=65536){if(m>1114111)throw new Error(o);m-=65536,p.push(String.fromCharCode(55296|m>>10)),m=56320|m&1023}}p.push(String.fromCharCode(m))}return p.join("")}i.decode=l},function(e,i,s){e.exports=s(3).default},function(e,i,s){s.r(i);class r{constructor(h,d){this.lastId=0,this.prefix=h,this.name=d}create(h){this.lastId++;var d=this.lastId,y=this.prefix+d,v=this.name+"["+d+"]",P=!1,R=function(){P||(h.apply(null,arguments),P=!0)};return this[d]=R,{number:d,id:y,name:v,callback:R}}remove(h){delete this[h.number]}}var o=new r("_pusher_script_","Pusher.ScriptReceivers"),a={VERSION:"8.3.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},c=a;class l{constructor(h){this.options=h,this.receivers=h.receivers||o,this.loading={}}load(h,d,y){var v=this;if(v.loading[h]&&v.loading[h].length>0)v.loading[h].push(y);else{v.loading[h]=[y];var P=z.createScriptRequest(v.getPath(h,d)),R=v.receivers.create(function(I){if(v.receivers.remove(R),v.loading[h]){var N=v.loading[h];delete v.loading[h];for(var q=function(lt){lt||P.cleanup()},Y=0;Y<N.length;Y++)N[Y](I,q)}});P.send(R)}}getRoot(h){var d,y=z.getDocument().location.protocol;return h&&h.useTLS||y==="https:"?d=this.options.cdn_https:d=this.options.cdn_http,d.replace(/\/*$/,"")+"/"+this.options.version}getPath(h,d){return this.getRoot(d)+"/"+h+this.options.suffix+".js"}}var u=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),p=new l({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:u});const g={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var b={buildLogSuffix:function(f){const h="See:",d=g.urls[f];if(!d)return"";let y;return d.fullUrl?y=d.fullUrl:d.path&&(y=g.baseUrl+d.path),y?`${h} ${y}`:""}},_;(function(f){f.UserAuthentication="user-authentication",f.ChannelAuthorization="channel-authorization"})(_||(_={}));class x extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class O extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(h){super(h),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(h,d){super(d),this.status=h,Object.setPrototypeOf(this,new.target.prototype)}}var F=function(f,h,d,y,v){const P=z.createXHR();P.open("POST",d.endpoint,!0),P.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var R in d.headers)P.setRequestHeader(R,d.headers[R]);if(d.headersProvider!=null){let I=d.headersProvider();for(var R in I)P.setRequestHeader(R,I[R])}return P.onreadystatechange=function(){if(P.readyState===4)if(P.status===200){let I,N=!1;try{I=JSON.parse(P.responseText),N=!0}catch{v(new A(200,`JSON returned from ${y.toString()} endpoint was invalid, yet status code was 200. Data was: ${P.responseText}`),null)}N&&v(null,I)}else{let I="";switch(y){case _.UserAuthentication:I=b.buildLogSuffix("authenticationEndpoint");break;case _.ChannelAuthorization:I=`Clients must be authorized to join private or presence channels. ${b.buildLogSuffix("authorizationEndpoint")}`;break}v(new A(P.status,`Unable to retrieve auth string from ${y.toString()} endpoint - received status: ${P.status} from ${d.endpoint}. ${I}`),null)}},P.send(h),P};function j(f){return et(X(f))}var H=String.fromCharCode,it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xt=function(f){var h=f.charCodeAt(0);return h<128?f:h<2048?H(192|h>>>6)+H(128|h&63):H(224|h>>>12&15)+H(128|h>>>6&63)+H(128|h&63)},X=function(f){return f.replace(/[^\x00-\x7F]/g,xt)},K=function(f){var h=[0,2,1][f.length%3],d=f.charCodeAt(0)<<16|(f.length>1?f.charCodeAt(1):0)<<8|(f.length>2?f.charCodeAt(2):0),y=[it.charAt(d>>>18),it.charAt(d>>>12&63),h>=2?"=":it.charAt(d>>>6&63),h>=1?"=":it.charAt(d&63)];return y.join("")},et=window.btoa||function(f){return f.replace(/[\s\S]{1,3}/g,K)};class kt{constructor(h,d,y,v){this.clear=d,this.timer=h(()=>{this.timer&&(this.timer=v(this.timer))},y)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var ht=kt;function Gt(f){window.clearTimeout(f)}function ke(f){window.clearInterval(f)}class vt extends ht{constructor(h,d){super(setTimeout,Gt,h,function(y){return d(),null})}}class ae extends ht{constructor(h,d){super(setInterval,ke,h,function(y){return d(),y})}}var ce={now(){return Date.now?Date.now():new Date().valueOf()},defer(f){return new vt(0,f)},method(f,...h){var d=Array.prototype.slice.call(arguments,1);return function(y){return y[f].apply(y,d.concat(arguments))}}},st=ce;function ct(f,...h){for(var d=0;d<h.length;d++){var y=h[d];for(var v in y)y[v]&&y[v].constructor&&y[v].constructor===Object?f[v]=ct(f[v]||{},y[v]):f[v]=y[v]}return f}function dc(){for(var f=["Pusher"],h=0;h<arguments.length;h++)typeof arguments[h]=="string"?f.push(arguments[h]):f.push(gn(arguments[h]));return f.join(" : ")}function Ns(f,h){var d=Array.prototype.indexOf;if(f===null)return-1;if(d&&f.indexOf===d)return f.indexOf(h);for(var y=0,v=f.length;y<v;y++)if(f[y]===h)return y;return-1}function Bt(f,h){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&h(f[d],d,f)}function zs(f){var h=[];return Bt(f,function(d,y){h.push(y)}),h}function fc(f){var h=[];return Bt(f,function(d){h.push(d)}),h}function Le(f,h,d){for(var y=0;y<f.length;y++)h.call(d||window,f[y],y,f)}function Bs(f,h){for(var d=[],y=0;y<f.length;y++)d.push(h(f[y],y,f,d));return d}function pc(f,h){var d={};return Bt(f,function(y,v){d[v]=h(y)}),d}function js(f,h){h=h||function(v){return!!v};for(var d=[],y=0;y<f.length;y++)h(f[y],y,f,d)&&d.push(f[y]);return d}function Hs(f,h){var d={};return Bt(f,function(y,v){(h&&h(y,v,f,d)||y)&&(d[v]=y)}),d}function gc(f){var h=[];return Bt(f,function(d,y){h.push([y,d])}),h}function Ws(f,h){for(var d=0;d<f.length;d++)if(h(f[d],d,f))return!0;return!1}function mc(f,h){for(var d=0;d<f.length;d++)if(!h(f[d],d,f))return!1;return!0}function bc(f){return pc(f,function(h){return typeof h=="object"&&(h=gn(h)),encodeURIComponent(j(h.toString()))})}function yc(f){var h=Hs(f,function(y){return y!==void 0}),d=Bs(gc(bc(h)),st.method("join","=")).join("&");return d}function _c(f){var h=[],d=[];return function y(v,P){var R,I,N;switch(typeof v){case"object":if(!v)return null;for(R=0;R<h.length;R+=1)if(h[R]===v)return{$ref:d[R]};if(h.push(v),d.push(P),Object.prototype.toString.apply(v)==="[object Array]")for(N=[],R=0;R<v.length;R+=1)N[R]=y(v[R],P+"["+R+"]");else{N={};for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&(N[I]=y(v[I],P+"["+JSON.stringify(I)+"]"))}return N;case"number":case"string":case"boolean":return v}}(f,"$")}function gn(f){try{return JSON.stringify(f)}catch{return JSON.stringify(_c(f))}}class xc{constructor(){this.globalLog=h=>{window.console&&window.console.log&&window.console.log(h)}}debug(...h){this.log(this.globalLog,h)}warn(...h){this.log(this.globalLogWarn,h)}error(...h){this.log(this.globalLogError,h)}globalLogWarn(h){window.console&&window.console.warn?window.console.warn(h):this.globalLog(h)}globalLogError(h){window.console&&window.console.error?window.console.error(h):this.globalLogWarn(h)}log(h,...d){var y=dc.apply(this,arguments);Pi.log?Pi.log(y):Pi.logToConsole&&h.bind(this)(y)}}var nt=new xc,vc=function(f,h,d,y,v){(d.headers!==void 0||d.headersProvider!=null)&&nt.warn(`To send headers with the ${y.toString()} request, you must use AJAX, rather than JSONP.`);var P=f.nextAuthCallbackID.toString();f.nextAuthCallbackID++;var R=f.getDocument(),I=R.createElement("script");f.auth_callbacks[P]=function(Y){v(null,Y)};var N="Pusher.auth_callbacks['"+P+"']";I.src=d.endpoint+"?callback="+encodeURIComponent(N)+"&"+h;var q=R.getElementsByTagName("head")[0]||R.documentElement;q.insertBefore(I,q.firstChild)},wc=vc;class Sc{constructor(h){this.src=h}send(h){var d=this,y="Error loading "+d.src;d.script=document.createElement("script"),d.script.id=h.id,d.script.src=d.src,d.script.type="text/javascript",d.script.charset="UTF-8",d.script.addEventListener?(d.script.onerror=function(){h.callback(y)},d.script.onload=function(){h.callback(null)}):d.script.onreadystatechange=function(){(d.script.readyState==="loaded"||d.script.readyState==="complete")&&h.callback(null)},d.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(d.errorScript=document.createElement("script"),d.errorScript.id=h.id+"_error",d.errorScript.text=h.name+"('"+y+"');",d.script.async=d.errorScript.async=!1):d.script.async=!0;var v=document.getElementsByTagName("head")[0];v.insertBefore(d.script,v.firstChild),d.errorScript&&v.insertBefore(d.errorScript,d.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class kc{constructor(h,d){this.url=h,this.data=d}send(h){if(!this.request){var d=yc(this.data),y=this.url+"/"+h.number+"?"+d;this.request=z.createScriptRequest(y),this.request.send(h)}}cleanup(){this.request&&this.request.cleanup()}}var Cc=function(f,h){return function(d,y){var v="http"+(h?"s":"")+"://",P=v+(f.host||f.options.host)+f.options.path,R=z.createJSONPRequest(P,d),I=z.ScriptReceivers.create(function(N,q){o.remove(I),R.cleanup(),q&&q.host&&(f.host=q.host),y&&y(N,q)});R.send(I)}},Pc={name:"jsonp",getAgent:Cc},Tc=Pc;function mi(f,h,d){var y=f+(h.useTLS?"s":""),v=h.useTLS?h.hostTLS:h.hostNonTLS;return y+"://"+v+d}function bi(f,h){var d="/app/"+f,y="?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(h?"&"+h:"");return d+y}var Mc={getInitial:function(f,h){var d=(h.httpPath||"")+bi(f,"flash=false");return mi("ws",h,d)}},Oc={getInitial:function(f,h){var d=(h.httpPath||"/pusher")+bi(f);return mi("http",h,d)}},Ac={getInitial:function(f,h){return mi("http",h,h.httpPath||"/pusher")},getPath:function(f,h){return bi(f)}};class Ec{constructor(){this._callbacks={}}get(h){return this._callbacks[yi(h)]}add(h,d,y){var v=yi(h);this._callbacks[v]=this._callbacks[v]||[],this._callbacks[v].push({fn:d,context:y})}remove(h,d,y){if(!h&&!d&&!y){this._callbacks={};return}var v=h?[yi(h)]:zs(this._callbacks);d||y?this.removeCallback(v,d,y):this.removeAllCallbacks(v)}removeCallback(h,d,y){Le(h,function(v){this._callbacks[v]=js(this._callbacks[v]||[],function(P){return d&&d!==P.fn||y&&y!==P.context}),this._callbacks[v].length===0&&delete this._callbacks[v]},this)}removeAllCallbacks(h){Le(h,function(d){delete this._callbacks[d]},this)}}function yi(f){return"_"+f}class jt{constructor(h){this.callbacks=new Ec,this.global_callbacks=[],this.failThrough=h}bind(h,d,y){return this.callbacks.add(h,d,y),this}bind_global(h){return this.global_callbacks.push(h),this}unbind(h,d,y){return this.callbacks.remove(h,d,y),this}unbind_global(h){return h?(this.global_callbacks=js(this.global_callbacks||[],d=>d!==h),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(h,d,y){for(var v=0;v<this.global_callbacks.length;v++)this.global_callbacks[v](h,d);var P=this.callbacks.get(h),R=[];if(y?R.push(d,y):d&&R.push(d),P&&P.length>0)for(var v=0;v<P.length;v++)P[v].fn.apply(P[v].context||window,R);else this.failThrough&&this.failThrough(h,d);return this}}class Rc extends jt{constructor(h,d,y,v,P){super(),this.initialize=z.transportConnectionInitializer,this.hooks=h,this.name=d,this.priority=y,this.key=v,this.options=P,this.state="new",this.timeline=P.timeline,this.activityTimeout=P.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var h=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(h,this.options)}catch(d){return st.defer(()=>{this.onError(d),this.changeState("closed")}),!1}return this.bindListeners(),nt.debug("Connecting",{transport:this.name,url:h}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(h){return this.state==="open"?(st.defer(()=>{this.socket&&this.socket.send(h)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(h){this.emit("error",{type:"WebSocketError",error:h}),this.timeline.error(this.buildTimelineMessage({error:h.toString()}))}onClose(h){h?this.changeState("closed",{code:h.code,reason:h.reason,wasClean:h.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(h){this.emit("message",h)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=h=>{this.onError(h)},this.socket.onclose=h=>{this.onClose(h)},this.socket.onmessage=h=>{this.onMessage(h)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(h,d){this.state=h,this.timeline.info(this.buildTimelineMessage({state:h,params:d})),this.emit(h,d)}buildTimelineMessage(h){return ct({cid:this.id},h)}}class Ce{constructor(h){this.hooks=h}isSupported(h){return this.hooks.isSupported(h)}createConnection(h,d,y,v){return new Rc(this.hooks,h,d,y,v)}}var Dc=new Ce({urls:Mc,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!z.getWebSocketAPI()},isSupported:function(){return!!z.getWebSocketAPI()},getSocket:function(f){return z.createWebSocket(f)}}),Vs={urls:Oc,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Us=ct({getSocket:function(f){return z.HTTPFactory.createStreamingSocket(f)}},Vs),$s=ct({getSocket:function(f){return z.HTTPFactory.createPollingSocket(f)}},Vs),qs={isSupported:function(){return z.isXHRSupported()}},Lc=new Ce(ct({},Us,qs)),Ic=new Ce(ct({},$s,qs)),Fc={ws:Dc,xhr_streaming:Lc,xhr_polling:Ic},mn=Fc,Nc=new Ce({file:"sockjs",urls:Ac,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(f,h){return new window.SockJS(f,null,{js_path:p.getPath("sockjs",{useTLS:h.useTLS}),ignore_null_origin:h.ignoreNullOrigin})},beforeOpen:function(f,h){f.send(JSON.stringify({path:h}))}}),Xs={isSupported:function(f){var h=z.isXDRSupported(f.useTLS);return h}},zc=new Ce(ct({},Us,Xs)),Bc=new Ce(ct({},$s,Xs));mn.xdr_streaming=zc,mn.xdr_polling=Bc,mn.sockjs=Nc;var jc=mn;class Hc extends jt{constructor(){super();var h=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){h.emit("online")},!1),window.addEventListener("offline",function(){h.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Wc=new Hc;class Vc{constructor(h,d,y){this.manager=h,this.transport=d,this.minPingDelay=y.minPingDelay,this.maxPingDelay=y.maxPingDelay,this.pingDelay=void 0}createConnection(h,d,y,v){v=ct({},v,{activityTimeout:this.pingDelay});var P=this.transport.createConnection(h,d,y,v),R=null,I=function(){P.unbind("open",I),P.bind("closed",N),R=st.now()},N=q=>{if(P.unbind("closed",N),q.code===1002||q.code===1003)this.manager.reportDeath();else if(!q.wasClean&&R){var Y=st.now()-R;Y<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Y/2,this.minPingDelay))}};return P.bind("open",I),P}isSupported(h){return this.manager.isAlive()&&this.transport.isSupported(h)}}const Ys={decodeMessage:function(f){try{var h=JSON.parse(f.data),d=h.data;if(typeof d=="string")try{d=JSON.parse(h.data)}catch{}var y={event:h.event,channel:h.channel,data:d};return h.user_id&&(y.user_id=h.user_id),y}catch(v){throw{type:"MessageParseError",error:v,data:f.data}}},encodeMessage:function(f){return JSON.stringify(f)},processHandshake:function(f){var h=Ys.decodeMessage(f);if(h.event==="pusher:connection_established"){if(!h.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:h.data.socket_id,activityTimeout:h.data.activity_timeout*1e3}}else{if(h.event==="pusher:error")return{action:this.getCloseAction(h.data),error:this.getCloseError(h.data)};throw"Invalid handshake"}},getCloseAction:function(f){return f.code<4e3?f.code>=1002&&f.code<=1004?"backoff":null:f.code===4e3?"tls_only":f.code<4100?"refused":f.code<4200?"backoff":f.code<4300?"retry":"refused"},getCloseError:function(f){return f.code!==1e3&&f.code!==1001?{type:"PusherError",data:{code:f.code,message:f.reason||f.message}}:null}};var le=Ys;class Uc extends jt{constructor(h,d){super(),this.id=h,this.transport=d,this.activityTimeout=d.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(h){return this.transport.send(h)}send_event(h,d,y){var v={event:h,data:d};return y&&(v.channel=y),nt.debug("Event sent",v),this.send(le.encodeMessage(v))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var h={message:y=>{var v;try{v=le.decodeMessage(y)}catch(P){this.emit("error",{type:"MessageParseError",error:P,data:y.data})}if(v!==void 0){switch(nt.debug("Event recd",v),v.event){case"pusher:error":this.emit("error",{type:"PusherError",data:v.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",v)}},activity:()=>{this.emit("activity")},error:y=>{this.emit("error",y)},closed:y=>{d(),y&&y.code&&this.handleCloseEvent(y),this.transport=null,this.emit("closed")}},d=()=>{Bt(h,(y,v)=>{this.transport.unbind(v,y)})};Bt(h,(y,v)=>{this.transport.bind(v,y)})}handleCloseEvent(h){var d=le.getCloseAction(h),y=le.getCloseError(h);y&&this.emit("error",y),d&&this.emit(d,{action:d,error:y})}}class $c{constructor(h,d){this.transport=h,this.callback=d,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=h=>{this.unbindListeners();var d;try{d=le.processHandshake(h)}catch(y){this.finish("error",{error:y}),this.transport.close();return}d.action==="connected"?this.finish("connected",{connection:new Uc(d.id,this.transport),activityTimeout:d.activityTimeout}):(this.finish(d.action,{error:d.error}),this.transport.close())},this.onClosed=h=>{this.unbindListeners();var d=le.getCloseAction(h)||"backoff",y=le.getCloseError(h);this.finish(d,{error:y})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(h,d){this.callback(ct({transport:this.transport,action:h},d))}}class qc{constructor(h,d){this.timeline=h,this.options=d||{}}send(h,d){this.timeline.isEmpty()||this.timeline.send(z.TimelineTransport.getAgent(this,h),d)}}class _i extends jt{constructor(h,d){super(function(y,v){nt.debug("No callbacks on "+h+" for "+y)}),this.name=h,this.pusher=d,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(h,d){return d(null,{auth:""})}trigger(h,d){if(h.indexOf("client-")!==0)throw new x("Event '"+h+"' does not start with 'client-'");if(!this.subscribed){var y=b.buildLogSuffix("triggeringClientEvents");nt.warn(`Client event triggered before channel 'subscription_succeeded' event . ${y}`)}return this.pusher.send_event(h,d,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(h){var d=h.event,y=h.data;if(d==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(h);else if(d==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(h);else if(d.indexOf("pusher_internal:")!==0){var v={};this.emit(d,y,v)}}handleSubscriptionSucceededEvent(h){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",h.data)}handleSubscriptionCountEvent(h){h.data.subscription_count&&(this.subscriptionCount=h.data.subscription_count),this.emit("pusher:subscription_count",h.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(h,d)=>{h?(this.subscriptionPending=!1,nt.error(h.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:h.message},h instanceof A?{status:h.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:d.auth,channel_data:d.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class xi extends _i{authorize(h,d){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:h},d)}}class Xc{constructor(){this.reset()}get(h){return Object.prototype.hasOwnProperty.call(this.members,h)?{id:h,info:this.members[h]}:null}each(h){Bt(this.members,(d,y)=>{h(this.get(y))})}setMyID(h){this.myID=h}onSubscription(h){this.members=h.presence.hash,this.count=h.presence.count,this.me=this.get(this.myID)}addMember(h){return this.get(h.user_id)===null&&this.count++,this.members[h.user_id]=h.user_info,this.get(h.user_id)}removeMember(h){var d=this.get(h.user_id);return d&&(delete this.members[h.user_id],this.count--),d}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Yc=function(f,h,d,y){function v(P){return P instanceof d?P:new d(function(R){R(P)})}return new(d||(d=Promise))(function(P,R){function I(Y){try{q(y.next(Y))}catch(lt){R(lt)}}function N(Y){try{q(y.throw(Y))}catch(lt){R(lt)}}function q(Y){Y.done?P(Y.value):v(Y.value).then(I,N)}q((y=y.apply(f,h||[])).next())})};class Jc extends xi{constructor(h,d){super(h,d),this.members=new Xc}authorize(h,d){super.authorize(h,(y,v)=>Yc(this,void 0,void 0,function*(){if(!y)if(v=v,v.channel_data!=null){var P=JSON.parse(v.channel_data);this.members.setMyID(P.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let R=b.buildLogSuffix("authorizationEndpoint");nt.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${R}, or the user should be signed in.`),d("Invalid auth response");return}d(y,v)}))}handleEvent(h){var d=h.event;if(d.indexOf("pusher_internal:")===0)this.handleInternalEvent(h);else{var y=h.data,v={};h.user_id&&(v.user_id=h.user_id),this.emit(d,y,v)}}handleInternalEvent(h){var d=h.event,y=h.data;switch(d){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(h);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(h);break;case"pusher_internal:member_added":var v=this.members.addMember(y);this.emit("pusher:member_added",v);break;case"pusher_internal:member_removed":var P=this.members.removeMember(y);P&&this.emit("pusher:member_removed",P);break}}handleSubscriptionSucceededEvent(h){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(h.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Kc=s(1),vi=s(0);class Gc extends xi{constructor(h,d,y){super(h,d),this.key=null,this.nacl=y}authorize(h,d){super.authorize(h,(y,v)=>{if(y){d(y,v);return}let P=v.shared_secret;if(!P){d(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(vi.decode)(P),delete v.shared_secret,d(null,v)})}trigger(h,d){throw new k("Client events are not currently supported for encrypted channels")}handleEvent(h){var d=h.event,y=h.data;if(d.indexOf("pusher_internal:")===0||d.indexOf("pusher:")===0){super.handleEvent(h);return}this.handleEncryptedEvent(d,y)}handleEncryptedEvent(h,d){if(!this.key){nt.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!d.ciphertext||!d.nonce){nt.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+d);return}let y=Object(vi.decode)(d.ciphertext);if(y.length<this.nacl.secretbox.overheadLength){nt.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${y.length}`);return}let v=Object(vi.decode)(d.nonce);if(v.length<this.nacl.secretbox.nonceLength){nt.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${v.length}`);return}let P=this.nacl.secretbox.open(y,v,this.key);if(P===null){nt.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(R,I)=>{if(R){nt.error(`Failed to make a request to the authEndpoint: ${I}. Unable to fetch new key, so dropping encrypted event`);return}if(P=this.nacl.secretbox.open(y,v,this.key),P===null){nt.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(h,this.getDataToEmit(P))});return}this.emit(h,this.getDataToEmit(P))}getDataToEmit(h){let d=Object(Kc.decode)(h);try{return JSON.parse(d)}catch{return d}}}class Qc extends jt{constructor(h,d){super(),this.state="initialized",this.connection=null,this.key=h,this.options=d,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var y=z.getNetwork();y.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),y.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(h){return this.connection?this.connection.send(h):!1}send_event(h,d,y){return this.connection?this.connection.send_event(h,d,y):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var h=(d,y)=>{d?this.runner=this.strategy.connect(0,h):y.action==="error"?(this.emit("error",{type:"HandshakeError",error:y.error}),this.timeline.error({handshakeError:y.error})):(this.abortConnecting(),this.handshakeCallbacks[y.action](y))};this.runner=this.strategy.connect(0,h)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var h=this.abandonConnection();h.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(h){this.timeline.info({action:"retry",delay:h}),h>0&&this.emit("connecting_in",Math.round(h/1e3)),this.retryTimer=new vt(h||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new vt(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new vt(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new vt(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(h){return ct({},h,{message:d=>{this.resetActivityCheck(),this.emit("message",d)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:d=>{this.emit("error",d)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(h){return ct({},h,{connected:d=>{this.activityTimeout=Math.min(this.options.activityTimeout,d.activityTimeout,d.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(d.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let h=d=>y=>{y.error&&this.emit("error",{type:"WebSocketError",error:y.error}),d(y)};return{tls_only:h(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:h(()=>{this.disconnect()}),backoff:h(()=>{this.retryIn(1e3)}),retry:h(()=>{this.retryIn(0)})}}setConnection(h){this.connection=h;for(var d in this.connectionCallbacks)this.connection.bind(d,this.connectionCallbacks[d]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var h in this.connectionCallbacks)this.connection.unbind(h,this.connectionCallbacks[h]);var d=this.connection;return this.connection=null,d}}updateState(h,d){var y=this.state;if(this.state=h,y!==h){var v=h;v==="connected"&&(v+=" with new socket ID "+d.socket_id),nt.debug("State changed",y+" -> "+v),this.timeline.info({state:h,params:d}),this.emit("state_change",{previous:y,current:h}),this.emit(h,d)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Zc{constructor(){this.channels={}}add(h,d){return this.channels[h]||(this.channels[h]=tl(h,d)),this.channels[h]}all(){return fc(this.channels)}find(h){return this.channels[h]}remove(h){var d=this.channels[h];return delete this.channels[h],d}disconnect(){Bt(this.channels,function(h){h.disconnect()})}}function tl(f,h){if(f.indexOf("private-encrypted-")===0){if(h.config.nacl)return Ht.createEncryptedChannel(f,h,h.config.nacl);let d="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",y=b.buildLogSuffix("encryptedChannelSupport");throw new k(`${d}. ${y}`)}else{if(f.indexOf("private-")===0)return Ht.createPrivateChannel(f,h);if(f.indexOf("presence-")===0)return Ht.createPresenceChannel(f,h);if(f.indexOf("#")===0)throw new w('Cannot create a channel with name "'+f+'".');return Ht.createChannel(f,h)}}var el={createChannels(){return new Zc},createConnectionManager(f,h){return new Qc(f,h)},createChannel(f,h){return new _i(f,h)},createPrivateChannel(f,h){return new xi(f,h)},createPresenceChannel(f,h){return new Jc(f,h)},createEncryptedChannel(f,h,d){return new Gc(f,h,d)},createTimelineSender(f,h){return new qc(f,h)},createHandshake(f,h){return new $c(f,h)},createAssistantToTheTransportManager(f,h,d){return new Vc(f,h,d)}},Ht=el;class Js{constructor(h){this.options=h||{},this.livesLeft=this.options.lives||1/0}getAssistant(h){return Ht.createAssistantToTheTransportManager(this,h,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class he{constructor(h,d){this.strategies=h,this.loop=!!d.loop,this.failFast=!!d.failFast,this.timeout=d.timeout,this.timeoutLimit=d.timeoutLimit}isSupported(){return Ws(this.strategies,st.method("isSupported"))}connect(h,d){var y=this.strategies,v=0,P=this.timeout,R=null,I=(N,q)=>{q?d(null,q):(v=v+1,this.loop&&(v=v%y.length),v<y.length?(P&&(P=P*2,this.timeoutLimit&&(P=Math.min(P,this.timeoutLimit))),R=this.tryStrategy(y[v],h,{timeout:P,failFast:this.failFast},I)):d(!0))};return R=this.tryStrategy(y[v],h,{timeout:P,failFast:this.failFast},I),{abort:function(){R.abort()},forceMinPriority:function(N){h=N,R&&R.forceMinPriority(N)}}}tryStrategy(h,d,y,v){var P=null,R=null;return y.timeout>0&&(P=new vt(y.timeout,function(){R.abort(),v(!0)})),R=h.connect(d,function(I,N){I&&P&&P.isRunning()&&!y.failFast||(P&&P.ensureAborted(),v(I,N))}),{abort:function(){P&&P.ensureAborted(),R.abort()},forceMinPriority:function(I){R.forceMinPriority(I)}}}}class wi{constructor(h){this.strategies=h}isSupported(){return Ws(this.strategies,st.method("isSupported"))}connect(h,d){return nl(this.strategies,h,function(y,v){return function(P,R){if(v[y].error=P,P){il(v)&&d(!0);return}Le(v,function(I){I.forceMinPriority(R.transport.priority)}),d(null,R)}})}}function nl(f,h,d){var y=Bs(f,function(v,P,R,I){return v.connect(h,d(P,I))});return{abort:function(){Le(y,sl)},forceMinPriority:function(v){Le(y,function(P){P.forceMinPriority(v)})}}}function il(f){return mc(f,function(h){return!!h.error})}function sl(f){!f.error&&!f.aborted&&(f.abort(),f.aborted=!0)}class rl{constructor(h,d,y){this.strategy=h,this.transports=d,this.ttl=y.ttl||1800*1e3,this.usingTLS=y.useTLS,this.timeline=y.timeline}isSupported(){return this.strategy.isSupported()}connect(h,d){var y=this.usingTLS,v=ol(y),P=v&&v.cacheSkipCount?v.cacheSkipCount:0,R=[this.strategy];if(v&&v.timestamp+this.ttl>=st.now()){var I=this.transports[v.transport];I&&(["ws","wss"].includes(v.transport)||P>3?(this.timeline.info({cached:!0,transport:v.transport,latency:v.latency}),R.push(new he([I],{timeout:v.latency*2+1e3,failFast:!0}))):P++)}var N=st.now(),q=R.pop().connect(h,function Y(lt,_n){lt?(Ks(y),R.length>0?(N=st.now(),q=R.pop().connect(h,Y)):d(lt)):(al(y,_n.transport.name,st.now()-N,P),d(null,_n))});return{abort:function(){q.abort()},forceMinPriority:function(Y){h=Y,q&&q.forceMinPriority(Y)}}}}function Si(f){return"pusherTransport"+(f?"TLS":"NonTLS")}function ol(f){var h=z.getLocalStorage();if(h)try{var d=h[Si(f)];if(d)return JSON.parse(d)}catch{Ks(f)}return null}function al(f,h,d,y){var v=z.getLocalStorage();if(v)try{v[Si(f)]=gn({timestamp:st.now(),transport:h,latency:d,cacheSkipCount:y})}catch{}}function Ks(f){var h=z.getLocalStorage();if(h)try{delete h[Si(f)]}catch{}}class bn{constructor(h,{delay:d}){this.strategy=h,this.options={delay:d}}isSupported(){return this.strategy.isSupported()}connect(h,d){var y=this.strategy,v,P=new vt(this.options.delay,function(){v=y.connect(h,d)});return{abort:function(){P.ensureAborted(),v&&v.abort()},forceMinPriority:function(R){h=R,v&&v.forceMinPriority(R)}}}}class Ie{constructor(h,d,y){this.test=h,this.trueBranch=d,this.falseBranch=y}isSupported(){var h=this.test()?this.trueBranch:this.falseBranch;return h.isSupported()}connect(h,d){var y=this.test()?this.trueBranch:this.falseBranch;return y.connect(h,d)}}class cl{constructor(h){this.strategy=h}isSupported(){return this.strategy.isSupported()}connect(h,d){var y=this.strategy.connect(h,function(v,P){P&&y.abort(),d(v,P)});return y}}function Fe(f){return function(){return f.isSupported()}}var ll=function(f,h,d){var y={};function v(ar,ch,lh,hh,uh){var cr=d(f,ar,ch,lh,hh,uh);return y[ar]=cr,cr}var P=Object.assign({},h,{hostNonTLS:f.wsHost+":"+f.wsPort,hostTLS:f.wsHost+":"+f.wssPort,httpPath:f.wsPath}),R=Object.assign({},P,{useTLS:!0}),I=Object.assign({},h,{hostNonTLS:f.httpHost+":"+f.httpPort,hostTLS:f.httpHost+":"+f.httpsPort,httpPath:f.httpPath}),N={loop:!0,timeout:15e3,timeoutLimit:6e4},q=new Js({minPingDelay:1e4,maxPingDelay:f.activityTimeout}),Y=new Js({lives:2,minPingDelay:1e4,maxPingDelay:f.activityTimeout}),lt=v("ws","ws",3,P,q),_n=v("wss","ws",3,R,q),ih=v("sockjs","sockjs",1,I),er=v("xhr_streaming","xhr_streaming",1,I,Y),sh=v("xdr_streaming","xdr_streaming",1,I,Y),nr=v("xhr_polling","xhr_polling",1,I),rh=v("xdr_polling","xdr_polling",1,I),ir=new he([lt],N),oh=new he([_n],N),ah=new he([ih],N),sr=new he([new Ie(Fe(er),er,sh)],N),rr=new he([new Ie(Fe(nr),nr,rh)],N),or=new he([new Ie(Fe(sr),new wi([sr,new bn(rr,{delay:4e3})]),rr)],N),Ti=new Ie(Fe(or),or,ah),Mi;return h.useTLS?Mi=new wi([ir,new bn(Ti,{delay:2e3})]):Mi=new wi([ir,new bn(oh,{delay:2e3}),new bn(Ti,{delay:5e3})]),new rl(new cl(new Ie(Fe(lt),Mi,Ti)),y,{ttl:18e5,timeline:h.timeline,useTLS:h.useTLS})},hl=ll,ul=function(){var f=this;f.timeline.info(f.buildTimelineMessage({transport:f.name+(f.options.useTLS?"s":"")})),f.hooks.isInitialized()?f.changeState("initialized"):f.hooks.file?(f.changeState("initializing"),p.load(f.hooks.file,{useTLS:f.options.useTLS},function(h,d){f.hooks.isInitialized()?(f.changeState("initialized"),d(!0)):(h&&f.onError(h),f.onClose(),d(!1))})):f.onClose()},dl={getRequest:function(f){var h=new window.XDomainRequest;return h.ontimeout=function(){f.emit("error",new S),f.close()},h.onerror=function(d){f.emit("error",d),f.close()},h.onprogress=function(){h.responseText&&h.responseText.length>0&&f.onChunk(200,h.responseText)},h.onload=function(){h.responseText&&h.responseText.length>0&&f.onChunk(200,h.responseText),f.emit("finished",200),f.close()},h},abortRequest:function(f){f.ontimeout=f.onerror=f.onprogress=f.onload=null,f.abort()}},fl=dl;const pl=256*1024;class gl extends jt{constructor(h,d,y){super(),this.hooks=h,this.method=d,this.url=y}start(h){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},z.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(h)}close(){this.unloader&&(z.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(h,d){for(;;){var y=this.advanceBuffer(d);if(y)this.emit("chunk",{status:h,data:y});else break}this.isBufferTooLong(d)&&this.emit("buffer_too_long")}advanceBuffer(h){var d=h.slice(this.position),y=d.indexOf(`
`);return y!==-1?(this.position+=y+1,d.slice(0,y)):null}isBufferTooLong(h){return this.position===h.length&&h.length>pl}}var ki;(function(f){f[f.CONNECTING=0]="CONNECTING",f[f.OPEN=1]="OPEN",f[f.CLOSED=3]="CLOSED"})(ki||(ki={}));var ue=ki,ml=1;class bl{constructor(h,d){this.hooks=h,this.session=Qs(1e3)+"/"+vl(8),this.location=yl(d),this.readyState=ue.CONNECTING,this.openStream()}send(h){return this.sendRaw(JSON.stringify([h]))}ping(){this.hooks.sendHeartbeat(this)}close(h,d){this.onClose(h,d,!0)}sendRaw(h){if(this.readyState===ue.OPEN)try{return z.createSocketRequest("POST",Gs(_l(this.location,this.session))).start(h),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(h,d,y){this.closeStream(),this.readyState=ue.CLOSED,this.onclose&&this.onclose({code:h,reason:d,wasClean:y})}onChunk(h){if(h.status===200){this.readyState===ue.OPEN&&this.onActivity();var d,y=h.data.slice(0,1);switch(y){case"o":d=JSON.parse(h.data.slice(1)||"{}"),this.onOpen(d);break;case"a":d=JSON.parse(h.data.slice(1)||"[]");for(var v=0;v<d.length;v++)this.onEvent(d[v]);break;case"m":d=JSON.parse(h.data.slice(1)||"null"),this.onEvent(d);break;case"h":this.hooks.onHeartbeat(this);break;case"c":d=JSON.parse(h.data.slice(1)||"[]"),this.onClose(d[0],d[1],!0);break}}}onOpen(h){this.readyState===ue.CONNECTING?(h&&h.hostname&&(this.location.base=xl(this.location.base,h.hostname)),this.readyState=ue.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(h){this.readyState===ue.OPEN&&this.onmessage&&this.onmessage({data:h})}onActivity(){this.onactivity&&this.onactivity()}onError(h){this.onerror&&this.onerror(h)}openStream(){this.stream=z.createSocketRequest("POST",Gs(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",h=>{this.onChunk(h)}),this.stream.bind("finished",h=>{this.hooks.onFinished(this,h)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(h){st.defer(()=>{this.onError(h),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function yl(f){var h=/([^\?]*)\/*(\??.*)/.exec(f);return{base:h[1],queryString:h[2]}}function _l(f,h){return f.base+"/"+h+"/xhr_send"}function Gs(f){var h=f.indexOf("?")===-1?"?":"&";return f+h+"t="+ +new Date+"&n="+ml++}function xl(f,h){var d=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(f);return d[1]+h+d[3]}function Qs(f){return z.randomInt(f)}function vl(f){for(var h=[],d=0;d<f;d++)h.push(Qs(32).toString(32));return h.join("")}var wl=bl,Sl={getReceiveURL:function(f,h){return f.base+"/"+h+"/xhr_streaming"+f.queryString},onHeartbeat:function(f){f.sendRaw("[]")},sendHeartbeat:function(f){f.sendRaw("[]")},onFinished:function(f,h){f.onClose(1006,"Connection interrupted ("+h+")",!1)}},kl=Sl,Cl={getReceiveURL:function(f,h){return f.base+"/"+h+"/xhr"+f.queryString},onHeartbeat:function(){},sendHeartbeat:function(f){f.sendRaw("[]")},onFinished:function(f,h){h===200?f.reconnect():f.onClose(1006,"Connection interrupted ("+h+")",!1)}},Pl=Cl,Tl={getRequest:function(f){var h=z.getXHRAPI(),d=new h;return d.onreadystatechange=d.onprogress=function(){switch(d.readyState){case 3:d.responseText&&d.responseText.length>0&&f.onChunk(d.status,d.responseText);break;case 4:d.responseText&&d.responseText.length>0&&f.onChunk(d.status,d.responseText),f.emit("finished",d.status),f.close();break}},d},abortRequest:function(f){f.onreadystatechange=null,f.abort()}},Ml=Tl,Ol={createStreamingSocket(f){return this.createSocket(kl,f)},createPollingSocket(f){return this.createSocket(Pl,f)},createSocket(f,h){return new wl(f,h)},createXHR(f,h){return this.createRequest(Ml,f,h)},createRequest(f,h,d){return new gl(f,h,d)}},Zs=Ol;Zs.createXDR=function(f,h){return this.createRequest(fl,f,h)};var Al=Zs,El={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:u,getDefaultStrategy:hl,Transports:jc,transportConnectionInitializer:ul,HTTPFactory:Al,TimelineTransport:Tc,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(f){window.Pusher=f;var h=()=>{this.onDocumentBody(f.ready)};window.JSON?h():p.load("json2",{},h)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:F,jsonp:wc}},onDocumentBody(f){document.body?f():setTimeout(()=>{this.onDocumentBody(f)},0)},createJSONPRequest(f,h){return new kc(f,h)},createScriptRequest(f){return new Sc(f)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var f=this.getXHRAPI();return new f},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Wc},createWebSocket(f){var h=this.getWebSocketAPI();return new h(f)},createSocketRequest(f,h){if(this.isXHRSupported())return this.HTTPFactory.createXHR(f,h);if(this.isXDRSupported(h.indexOf("https:")===0))return this.HTTPFactory.createXDR(f,h);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var f=this.getXHRAPI();return!!f&&new f().withCredentials!==void 0},isXDRSupported(f){var h=f?"https:":"http:",d=this.getProtocol();return!!window.XDomainRequest&&d===h},addUnloadListener(f){window.addEventListener!==void 0?window.addEventListener("unload",f,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",f)},removeUnloadListener(f){window.addEventListener!==void 0?window.removeEventListener("unload",f,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",f)},randomInt(f){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*f)}},z=El,Ci;(function(f){f[f.ERROR=3]="ERROR",f[f.INFO=6]="INFO",f[f.DEBUG=7]="DEBUG"})(Ci||(Ci={}));var yn=Ci;class Rl{constructor(h,d,y){this.key=h,this.session=d,this.events=[],this.options=y||{},this.sent=0,this.uniqueID=0}log(h,d){h<=this.options.level&&(this.events.push(ct({},d,{timestamp:st.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(h){this.log(yn.ERROR,h)}info(h){this.log(yn.INFO,h)}debug(h){this.log(yn.DEBUG,h)}isEmpty(){return this.events.length===0}send(h,d){var y=ct({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],h(y,(v,P)=>{v||this.sent++,d&&d(v,P)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Dl{constructor(h,d,y,v){this.name=h,this.priority=d,this.transport=y,this.options=v||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(h,d){if(this.isSupported()){if(this.priority<h)return tr(new C,d)}else return tr(new E,d);var y=!1,v=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),P=null,R=function(){v.unbind("initialized",R),v.connect()},I=function(){P=Ht.createHandshake(v,function(lt){y=!0,Y(),d(null,lt)})},N=function(lt){Y(),d(lt)},q=function(){Y();var lt;lt=gn(v),d(new M(lt))},Y=function(){v.unbind("initialized",R),v.unbind("open",I),v.unbind("error",N),v.unbind("closed",q)};return v.bind("initialized",R),v.bind("open",I),v.bind("error",N),v.bind("closed",q),v.initialize(),{abort:()=>{y||(Y(),P?P.close():v.close())},forceMinPriority:lt=>{y||this.priority<lt&&(P?P.close():v.close())}}}}function tr(f,h){return st.defer(function(){h(f)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Ll}=z;var Il=function(f,h,d,y,v,P){var R=Ll[d];if(!R)throw new O(d);var I=(!f.enabledTransports||Ns(f.enabledTransports,h)!==-1)&&(!f.disabledTransports||Ns(f.disabledTransports,h)===-1),N;return I?(v=Object.assign({ignoreNullOrigin:f.ignoreNullOrigin},v),N=new Dl(h,y,P?P.getAssistant(R):R,v)):N=Fl,N},Fl={isSupported:function(){return!1},connect:function(f,h){var d=st.defer(function(){h(new E)});return{abort:function(){d.ensureAborted()},forceMinPriority:function(){}}}};function Nl(f){if(f==null)throw"You must pass an options object";if(f.cluster==null)throw"Options object must provide a cluster";"disableStats"in f&&nt.warn("The disableStats option is deprecated in favor of enableStats")}const zl=(f,h)=>{var d="socket_id="+encodeURIComponent(f.socketId);for(var y in h.params)d+="&"+encodeURIComponent(y)+"="+encodeURIComponent(h.params[y]);if(h.paramsProvider!=null){let v=h.paramsProvider();for(var y in v)d+="&"+encodeURIComponent(y)+"="+encodeURIComponent(v[y])}return d};var Bl=f=>{if(typeof z.getAuthorizers()[f.transport]>"u")throw`'${f.transport}' is not a recognized auth transport`;return(h,d)=>{const y=zl(h,f);z.getAuthorizers()[f.transport](z,y,f,_.UserAuthentication,d)}};const jl=(f,h)=>{var d="socket_id="+encodeURIComponent(f.socketId);d+="&channel_name="+encodeURIComponent(f.channelName);for(var y in h.params)d+="&"+encodeURIComponent(y)+"="+encodeURIComponent(h.params[y]);if(h.paramsProvider!=null){let v=h.paramsProvider();for(var y in v)d+="&"+encodeURIComponent(y)+"="+encodeURIComponent(v[y])}return d};var Hl=f=>{if(typeof z.getAuthorizers()[f.transport]>"u")throw`'${f.transport}' is not a recognized auth transport`;return(h,d)=>{const y=jl(h,f);z.getAuthorizers()[f.transport](z,y,f,_.ChannelAuthorization,d)}};const Wl=(f,h,d)=>{const y={authTransport:h.transport,authEndpoint:h.endpoint,auth:{params:h.params,headers:h.headers}};return(v,P)=>{const R=f.channel(v.channelName);d(R,y).authorize(v.socketId,P)}};function Vl(f,h){let d={activityTimeout:f.activityTimeout||c.activityTimeout,cluster:f.cluster,httpPath:f.httpPath||c.httpPath,httpPort:f.httpPort||c.httpPort,httpsPort:f.httpsPort||c.httpsPort,pongTimeout:f.pongTimeout||c.pongTimeout,statsHost:f.statsHost||c.stats_host,unavailableTimeout:f.unavailableTimeout||c.unavailableTimeout,wsPath:f.wsPath||c.wsPath,wsPort:f.wsPort||c.wsPort,wssPort:f.wssPort||c.wssPort,enableStats:Yl(f),httpHost:Ul(f),useTLS:Xl(f),wsHost:$l(f),userAuthenticator:Jl(f),channelAuthorizer:Gl(f,h)};return"disabledTransports"in f&&(d.disabledTransports=f.disabledTransports),"enabledTransports"in f&&(d.enabledTransports=f.enabledTransports),"ignoreNullOrigin"in f&&(d.ignoreNullOrigin=f.ignoreNullOrigin),"timelineParams"in f&&(d.timelineParams=f.timelineParams),"nacl"in f&&(d.nacl=f.nacl),d}function Ul(f){return f.httpHost?f.httpHost:f.cluster?`sockjs-${f.cluster}.pusher.com`:c.httpHost}function $l(f){return f.wsHost?f.wsHost:ql(f.cluster)}function ql(f){return`ws-${f}.pusher.com`}function Xl(f){return z.getProtocol()==="https:"?!0:f.forceTLS!==!1}function Yl(f){return"enableStats"in f?f.enableStats:"disableStats"in f?!f.disableStats:!1}function Jl(f){const h=Object.assign(Object.assign({},c.userAuthentication),f.userAuthentication);return"customHandler"in h&&h.customHandler!=null?h.customHandler:Bl(h)}function Kl(f,h){let d;return"channelAuthorization"in f?d=Object.assign(Object.assign({},c.channelAuthorization),f.channelAuthorization):(d={transport:f.authTransport||c.authTransport,endpoint:f.authEndpoint||c.authEndpoint},"auth"in f&&("params"in f.auth&&(d.params=f.auth.params),"headers"in f.auth&&(d.headers=f.auth.headers)),"authorizer"in f&&(d.customHandler=Wl(h,d,f.authorizer))),d}function Gl(f,h){const d=Kl(f,h);return"customHandler"in d&&d.customHandler!=null?d.customHandler:Hl(d)}class Ql extends jt{constructor(h){super(function(d,y){nt.debug(`No callbacks on watchlist events for ${d}`)}),this.pusher=h,this.bindWatchlistInternalEvent()}handleEvent(h){h.data.events.forEach(d=>{this.emit(d.name,d)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",h=>{var d=h.event;d==="pusher_internal:watchlist_events"&&this.handleEvent(h)})}}function Zl(){let f,h;return{promise:new Promise((y,v)=>{f=y,h=v}),resolve:f,reject:h}}var th=Zl;class eh extends jt{constructor(h){super(function(d,y){nt.debug("No callbacks on user for "+d)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(d,y)=>{if(d){nt.warn(`Error during signin: ${d}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:y.auth,user_data:y.user_data})},this.pusher=h,this.pusher.connection.bind("state_change",({previous:d,current:y})=>{d!=="connected"&&y==="connected"&&this._signin(),d==="connected"&&y!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Ql(h),this.pusher.connection.bind("message",d=>{var y=d.event;y==="pusher:signin_success"&&this._onSigninSuccess(d.data),this.serverToUserChannel&&this.serverToUserChannel.name===d.channel&&this.serverToUserChannel.handleEvent(d)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(h){try{this.user_data=JSON.parse(h.user_data)}catch{nt.error(`Failed parsing user data after signin: ${h.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){nt.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const h=d=>{d.subscriptionPending&&d.subscriptionCancelled?d.reinstateSubscription():!d.subscriptionPending&&this.pusher.connection.state==="connected"&&d.subscribe()};this.serverToUserChannel=new _i(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((d,y)=>{d.indexOf("pusher_internal:")===0||d.indexOf("pusher:")===0||this.emit(d,y)}),h(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:h,resolve:d,reject:y}=th();h.done=!1;const v=()=>{h.done=!0};h.then(v).catch(v),this.signinDonePromise=h,this._signinDoneResolve=d}}class pt{static ready(){pt.isReady=!0;for(var h=0,d=pt.instances.length;h<d;h++)pt.instances[h].connect()}static getClientFeatures(){return zs(Hs({ws:z.Transports.ws},function(h){return h.isSupported({})}))}constructor(h,d){nh(h),Nl(d),this.key=h,this.config=Vl(d,this),this.channels=Ht.createChannels(),this.global_emitter=new jt,this.sessionID=z.randomInt(1e9),this.timeline=new Rl(this.key,this.sessionID,{cluster:this.config.cluster,features:pt.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:yn.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=Ht.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+z.TimelineTransport.name}));var y=v=>z.getDefaultStrategy(this.config,v,Il);this.connection=Ht.createConnectionManager(this.key,{getStrategy:y,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",v=>{var P=v.event,R=P.indexOf("pusher_internal:")===0;if(v.channel){var I=this.channel(v.channel);I&&I.handleEvent(v)}R||this.global_emitter.emit(v.event,v.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",v=>{nt.warn(v)}),pt.instances.push(this),this.timeline.info({instances:pt.instances.length}),this.user=new eh(this),pt.isReady&&this.connect()}channel(h){return this.channels.find(h)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var h=this.connection.isUsingTLS(),d=this.timelineSender;this.timelineSenderTimer=new ae(6e4,function(){d.send(h)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(h,d,y){return this.global_emitter.bind(h,d,y),this}unbind(h,d,y){return this.global_emitter.unbind(h,d,y),this}bind_global(h){return this.global_emitter.bind_global(h),this}unbind_global(h){return this.global_emitter.unbind_global(h),this}unbind_all(h){return this.global_emitter.unbind_all(),this}subscribeAll(){var h;for(h in this.channels.channels)this.channels.channels.hasOwnProperty(h)&&this.subscribe(h)}subscribe(h){var d=this.channels.add(h,this);return d.subscriptionPending&&d.subscriptionCancelled?d.reinstateSubscription():!d.subscriptionPending&&this.connection.state==="connected"&&d.subscribe(),d}unsubscribe(h){var d=this.channels.find(h);d&&d.subscriptionPending?d.cancelSubscription():(d=this.channels.remove(h),d&&d.subscribed&&d.unsubscribe())}send_event(h,d,y){return this.connection.send_event(h,d,y)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}pt.instances=[],pt.isReady=!1,pt.logToConsole=!1,pt.Runtime=z,pt.ScriptReceivers=z.ScriptReceivers,pt.DependenciesReceivers=z.DependenciesReceivers,pt.auth_callbacks=z.auth_callbacks;var Pi=i.default=pt;function nh(f){if(f==null)throw"You must pass your app key when you instantiate Pusher."}z.setup(pt)}])})})(pa);var Uu=pa.exports;const $u=Vu(Uu);window.axios=Au;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=$u;window.Echo=new Wu({broadcaster:"pusher",key:"43e855313d179d2d8d1d",cluster:"ap2",wsHost:"ws-ap2.pusher.com",wsPort:"443",wssPort:"443",forceTLS:!0,enabledTransports:["ws","wss"]});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function dn(n){return n+.5|0}const Zt=(n,t,e)=>Math.max(Math.min(n,e),t);function Ve(n){return Zt(dn(n*2.55),0,255)}function ie(n){return Zt(dn(n*255),0,255)}function $t(n){return Zt(dn(n/2.55)/100,0,1)}function vr(n){return Zt(dn(n*100),0,100)}const Ot={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qi=[..."0123456789ABCDEF"],qu=n=>Qi[n&15],Xu=n=>Qi[(n&240)>>4]+Qi[n&15],xn=n=>(n&240)>>4===(n&15),Yu=n=>xn(n.r)&&xn(n.g)&&xn(n.b)&&xn(n.a);function Ju(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ot[n[1]]*17,g:255&Ot[n[2]]*17,b:255&Ot[n[3]]*17,a:t===5?Ot[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ot[n[1]]<<4|Ot[n[2]],g:Ot[n[3]]<<4|Ot[n[4]],b:Ot[n[5]]<<4|Ot[n[6]],a:t===9?Ot[n[7]]<<4|Ot[n[8]]:255})),e}const Ku=(n,t)=>n<255?t(n):"";function Gu(n){var t=Yu(n)?qu:Xu;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Ku(n.a,t):void 0}const Qu=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ga(n,t,e){const i=t*Math.min(e,1-e),s=(r,o=(r+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Zu(n,t,e){const i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function td(n,t,e){const i=ga(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function ed(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function vs(n){const e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),o=Math.min(e,i,s),a=(r+o)/2;let c,l,u;return r!==o&&(u=r-o,l=a>.5?u/(2-r-o):u/(r+o),c=ed(e,i,s,u,r),c=c*60+.5),[c|0,l||0,a]}function ws(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ie)}function Ss(n,t,e){return ws(ga,n,t,e)}function nd(n,t,e){return ws(td,n,t,e)}function id(n,t,e){return ws(Zu,n,t,e)}function ma(n){return(n%360+360)%360}function sd(n){const t=Qu.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ve(+t[5]):ie(+t[5]));const s=ma(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=nd(s,r,o):t[1]==="hsv"?i=id(s,r,o):i=Ss(s,r,o),{r:i[0],g:i[1],b:i[2],a:e}}function rd(n,t){var e=vs(n);e[0]=ma(e[0]+t),e=Ss(e),n.r=e[0],n.g=e[1],n.b=e[2]}function od(n){if(!n)return;const t=vs(n),e=t[0],i=vr(t[1]),s=vr(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${$t(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const wr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ad(){const n={},t=Object.keys(Sr),e=Object.keys(wr);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<e.length;s++)r=e[s],a=a.replace(r,wr[r]);r=parseInt(Sr[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let vn;function cd(n){vn||(vn=ad(),vn.transparent=[0,0,0,0]);const t=vn[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ld=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hd(n){const t=ld.exec(n);let e=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?Ve(o):Zt(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Ve(i):Zt(i,0,255)),s=255&(t[4]?Ve(s):Zt(s,0,255)),r=255&(t[6]?Ve(r):Zt(r,0,255)),{r:i,g:s,b:r,a:e}}}function ud(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${$t(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Di=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Pe=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function dd(n,t,e){const i=Pe($t(n.r)),s=Pe($t(n.g)),r=Pe($t(n.b));return{r:ie(Di(i+e*(Pe($t(t.r))-i))),g:ie(Di(s+e*(Pe($t(t.g))-s))),b:ie(Di(r+e*(Pe($t(t.b))-r))),a:n.a+e*(t.a-n.a)}}function wn(n,t,e){if(n){let i=vs(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Ss(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function ba(n,t){return n&&Object.assign(t||{},n)}function kr(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ie(n[3]))):(t=ba(n,{r:0,g:0,b:0,a:1}),t.a=ie(t.a)),t}function fd(n){return n.charAt(0)==="r"?hd(n):sd(n)}class en{constructor(t){if(t instanceof en)return t;const e=typeof t;let i;e==="object"?i=kr(t):e==="string"&&(i=Ju(t)||cd(t)||fd(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=ba(this._rgb);return t&&(t.a=$t(t.a)),t}set rgb(t){this._rgb=kr(t)}rgbString(){return this._valid?ud(this._rgb):void 0}hexString(){return this._valid?Gu(this._rgb):void 0}hslString(){return this._valid?od(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let r;const o=e===r?.5:e,a=2*o-1,c=i.a-s.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-l,i.r=255&l*i.r+r*s.r+.5,i.g=255&l*i.g+r*s.g+.5,i.b=255&l*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=dd(this._rgb,t._rgb,e)),this}clone(){return new en(this.rgb)}alpha(t){return this._rgb.a=ie(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=dn(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return wn(this._rgb,2,t),this}darken(t){return wn(this._rgb,2,-t),this}saturate(t){return wn(this._rgb,1,t),this}desaturate(t){return wn(this._rgb,1,-t),this}rotate(t){return rd(this._rgb,t),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Wt(){}const pd=(()=>{let n=0;return()=>n++})();function U(n){return n===null||typeof n>"u"}function Q(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function W(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function rt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ct(n,t){return rt(n)?n:t}function B(n,t){return typeof n>"u"?t:n}const gd=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,ya=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function G(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function J(n,t,e,i){let s,r,o;if(Q(n))if(r=n.length,i)for(s=r-1;s>=0;s--)t.call(e,n[s],s);else for(s=0;s<r;s++)t.call(e,n[s],s);else if(W(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)t.call(e,n[o[s]],o[s])}function Kn(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Gn(n){if(Q(n))return n.map(Gn);if(W(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Gn(n[e[s]]);return t}return n}function _a(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function md(n,t,e,i){if(!_a(n))return;const s=t[n],r=e[n];W(s)&&W(r)?nn(s,r,i):t[n]=Gn(r)}function nn(n,t,e){const i=Q(t)?t:[t],s=i.length;if(!W(n))return n;e=e||{};const r=e.merger||md;let o;for(let a=0;a<s;++a){if(o=i[a],!W(o))continue;const c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)r(c[l],n,o,e)}return n}function Je(n,t){return nn(n,t,{merger:bd})}function bd(n,t,e){if(!_a(n))return;const i=t[n],s=e[n];W(i)&&W(s)?Je(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Gn(s))}const Cr={"":n=>n,x:n=>n.x,y:n=>n.y};function yd(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function _d(n){const t=yd(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function se(n,t){return(Cr[t]||(Cr[t]=_d(t)))(n)}function ks(n){return n.charAt(0).toUpperCase()+n.slice(1)}const sn=n=>typeof n<"u",re=n=>typeof n=="function",Pr=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function xd(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const tt=Math.PI,Z=2*tt,vd=Z+tt,Qn=Number.POSITIVE_INFINITY,wd=tt/180,at=tt/2,de=tt/4,Tr=tt*2/3,te=Math.log10,Nt=Math.sign;function Ke(n,t,e){return Math.abs(n-t)<e}function Mr(n){const t=Math.round(n);n=Ke(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(te(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Sd(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function Ae(n){return!isNaN(parseFloat(n))&&isFinite(n)}function kd(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function xa(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Et(n){return n*(tt/180)}function Cs(n){return n*(180/tt)}function Or(n){if(!rt(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function va(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*tt&&(r+=Z),{angle:r,distance:s}}function Zi(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Cd(n,t){return(n-t+vd)%Z-tt}function Pt(n){return(n%Z+Z)%Z}function rn(n,t,e,i){const s=Pt(n),r=Pt(t),o=Pt(e),a=Pt(r-s),c=Pt(o-s),l=Pt(s-r),u=Pt(s-o);return s===r||s===o||i&&r===o||a>c&&l<u}function ft(n,t,e){return Math.max(t,Math.min(e,n))}function Pd(n){return ft(n,-32768,32767)}function Xt(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Ps(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}const Yt=(n,t,e,i)=>Ps(n,e,i?s=>{const r=n[s][t];return r<e||r===e&&n[s+1][t]===e}:s=>n[s][t]<e),Td=(n,t,e)=>Ps(n,e,i=>n[i][t]>=e);function Md(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const wa=["push","pop","shift","splice","unshift"];function Od(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),wa.forEach(e=>{const i="_onData"+ks(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Ar(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(wa.forEach(r=>{delete n[r]}),delete n._chartjs)}function Sa(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const ka=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Ca(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,ka.call(window,()=>{i=!1,n.apply(t,e)}))}}function Ad(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Ts=n=>n==="start"?"left":n==="end"?"right":"center",bt=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Ed=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Pa(n,t,e){const i=t.length;let s=0,r=i;if(n._sorted){const{iScale:o,_parsed:a}=n,c=o.axis,{min:l,max:u,minDefined:p,maxDefined:g}=o.getUserBounds();p&&(s=ft(Math.min(Yt(a,c,l).lo,e?i:Yt(t,c,o.getPixelForValue(l)).lo),0,i-1)),g?r=ft(Math.max(Yt(a,o.axis,u,!0).hi+1,e?0:Yt(t,c,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function Ta(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}const Sn=n=>n===0||n===1,Er=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Z/e)),Rr=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Z/e)+1,Ge={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*at)+1,easeOutSine:n=>Math.sin(n*at),easeInOutSine:n=>-.5*(Math.cos(tt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Sn(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Sn(n)?n:Er(n,.075,.3),easeOutElastic:n=>Sn(n)?n:Rr(n,.075,.3),easeInOutElastic(n){return Sn(n)?n:n<.5?.5*Er(n*2,.1125,.45):.5+.5*Rr(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ge.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ge.easeInBounce(n*2)*.5:Ge.easeOutBounce(n*2-1)*.5+.5};function Ms(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Dr(n){return Ms(n)?n:new en(n)}function Li(n){return Ms(n)?n:new en(n).saturate(.5).darken(.1).hexString()}const Rd=["x","y","borderWidth","radius","tension"],Dd=["color","borderColor","backgroundColor"];function Ld(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Dd},numbers:{type:"number",properties:Rd}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Id(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Lr=new Map;function Fd(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Lr.get(e);return i||(i=new Intl.NumberFormat(n,t),Lr.set(e,i)),i}function fn(n,t,e){return Fd(t,e).format(n)}const Ma={values(n){return Q(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(e.length>1){const l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(s="scientific"),r=Nd(n,e)}const o=te(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),fn(n,i,c)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(te(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?Ma.numeric.call(this,n,t,e):""}};function Nd(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var ui={formatters:Ma};function zd(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ui.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ve=Object.create(null),ts=Object.create(null);function Qe(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function Ii(n,t,e){return typeof t=="string"?nn(Qe(n,t),e):nn(Qe(n,""),t)}class Bd{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Li(s.backgroundColor),this.hoverBorderColor=(i,s)=>Li(s.borderColor),this.hoverColor=(i,s)=>Li(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Ii(this,t,e)}get(t){return Qe(this,t)}describe(t,e){return Ii(ts,t,e)}override(t,e){return Ii(ve,t,e)}route(t,e,i,s){const r=Qe(this,t),o=Qe(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[a],l=o[s];return W(c)?Object.assign({},l,c):B(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}}var ot=new Bd({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ld,Id,zd]);function jd(n){return!n||U(n.size)||U(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Zn(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function Hd(n,t,e,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const a=e.length;let c,l,u,p,g;for(c=0;c<a;c++)if(p=e[c],p!=null&&!Q(p))o=Zn(n,s,r,o,p);else if(Q(p))for(l=0,u=p.length;l<u;l++)g=p[l],g!=null&&!Q(g)&&(o=Zn(n,s,r,o,g));n.restore();const m=r.length/2;if(m>e.length){for(c=0;c<m;c++)delete s[r[c]];r.splice(0,m)}return o}function fe(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function Ir(n,t){t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function es(n,t,e,i){Oa(n,t,e,i,null)}function Oa(n,t,e,i,s){let r,o,a,c,l,u,p,g;const m=t.pointStyle,b=t.rotation,_=t.radius;let x=(b||0)*wd;if(m&&typeof m=="object"&&(r=m.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(x),n.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),n.restore();return}if(!(isNaN(_)||_<=0)){switch(n.beginPath(),m){default:s?n.ellipse(e,i,s/2,_,0,0,Z):n.arc(e,i,_,0,Z),n.closePath();break;case"triangle":u=s?s/2:_,n.moveTo(e+Math.sin(x)*u,i-Math.cos(x)*_),x+=Tr,n.lineTo(e+Math.sin(x)*u,i-Math.cos(x)*_),x+=Tr,n.lineTo(e+Math.sin(x)*u,i-Math.cos(x)*_),n.closePath();break;case"rectRounded":l=_*.516,c=_-l,o=Math.cos(x+de)*c,p=Math.cos(x+de)*(s?s/2-l:c),a=Math.sin(x+de)*c,g=Math.sin(x+de)*(s?s/2-l:c),n.arc(e-p,i-a,l,x-tt,x-at),n.arc(e+g,i-o,l,x-at,x),n.arc(e+p,i+a,l,x,x+at),n.arc(e-g,i+o,l,x+at,x+tt),n.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*_,u=s?s/2:c,n.rect(e-u,i-c,2*u,2*c);break}x+=de;case"rectRot":p=Math.cos(x)*(s?s/2:_),o=Math.cos(x)*_,a=Math.sin(x)*_,g=Math.sin(x)*(s?s/2:_),n.moveTo(e-p,i-a),n.lineTo(e+g,i-o),n.lineTo(e+p,i+a),n.lineTo(e-g,i+o),n.closePath();break;case"crossRot":x+=de;case"cross":p=Math.cos(x)*(s?s/2:_),o=Math.cos(x)*_,a=Math.sin(x)*_,g=Math.sin(x)*(s?s/2:_),n.moveTo(e-p,i-a),n.lineTo(e+p,i+a),n.moveTo(e+g,i-o),n.lineTo(e-g,i+o);break;case"star":p=Math.cos(x)*(s?s/2:_),o=Math.cos(x)*_,a=Math.sin(x)*_,g=Math.sin(x)*(s?s/2:_),n.moveTo(e-p,i-a),n.lineTo(e+p,i+a),n.moveTo(e+g,i-o),n.lineTo(e-g,i+o),x+=de,p=Math.cos(x)*(s?s/2:_),o=Math.cos(x)*_,a=Math.sin(x)*_,g=Math.sin(x)*(s?s/2:_),n.moveTo(e-p,i-a),n.lineTo(e+p,i+a),n.moveTo(e+g,i-o),n.lineTo(e-g,i+o);break;case"line":o=s?s/2:Math.cos(x)*_,a=Math.sin(x)*_,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(x)*(s?s/2:_),i+Math.sin(x)*_);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Jt(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function di(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function fi(n){n.restore()}function Wd(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Vd(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Ud(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),U(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function $d(n,t,e,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,c=e-r.actualBoundingBoxAscent,l=e+r.actualBoundingBoxDescent,u=s.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function qd(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function we(n,t,e,i,s,r={}){const o=Q(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let c,l;for(n.save(),n.font=s.string,Ud(n,r),c=0;c<o.length;++c)l=o[c],r.backdrop&&qd(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),U(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(l,e,i,r.maxWidth)),n.fillText(l,e,i,r.maxWidth),$d(n,e,i,l,r),i+=Number(s.lineHeight);n.restore()}function on(n,t){const{x:e,y:i,w:s,h:r,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*tt,tt,!0),n.lineTo(e,i+r-o.bottomLeft),n.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,tt,at,!0),n.lineTo(e+s-o.bottomRight,i+r),n.arc(e+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,at,0,!0),n.lineTo(e+s,i+o.topRight),n.arc(e+s-o.topRight,i+o.topRight,o.topRight,0,-at,!0),n.lineTo(e+o.topLeft,i)}const Xd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yd=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jd(n,t){const e=(""+n).match(Xd);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Kd=n=>+n||0;function Os(n,t){const e={},i=W(t),s=i?Object.keys(t):t,r=W(n)?i?o=>B(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of s)e[o]=Kd(r(o));return e}function Aa(n){return Os(n,{top:"y",right:"x",bottom:"y",left:"x"})}function _e(n){return Os(n,["topLeft","topRight","bottomLeft","bottomRight"])}function _t(n){const t=Aa(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ut(n,t){n=n||{},t=t||ot.font;let e=B(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=B(n.style,t.style);i&&!(""+i).match(Yd)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:B(n.family,t.family),lineHeight:Jd(B(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:B(n.weight,t.weight),string:""};return s.string=jd(s),s}function Ue(n,t,e,i){let s=!0,r,o,a;for(r=0,o=n.length;r<o;++r)if(a=n[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),e!==void 0&&Q(a)&&(a=a[e%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function Gd(n,t,e){const{min:i,max:s}=n,r=ya(t,(s-i)/2),o=(a,c)=>e&&a===0?0:a+c;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function oe(n,t){return Object.assign(Object.create(n),t)}function As(n,t=[""],e,i,s=()=>n[0]){const r=e||n;typeof i>"u"&&(i=La("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>As([a,...n],t,r,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return Ra(a,c,()=>of(c,t,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return Nr(a).includes(c)},ownKeys(a){return Nr(a)},set(a,c,l){const u=a._storage||(a._storage=s());return a[c]=u[c]=l,delete a._keys,!0}})}function Ee(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Ea(n,i),setContext:r=>Ee(n,r,e,i),override:r=>Ee(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return Ra(r,o,()=>Zd(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function Ea(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:re(e)?e:()=>e,isIndexable:re(i)?i:()=>i}}const Qd=(n,t)=>n?n+ks(t):t,Es=(n,t)=>W(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ra(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function Zd(n,t,e){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let a=i[t];return re(a)&&o.isScriptable(t)&&(a=tf(t,a,n,e)),Q(a)&&a.length&&(a=ef(t,a,n,o.isIndexable)),Es(t,a)&&(a=Ee(a,s,r&&r[t],o)),a}function tf(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=t(r,o||i);return a.delete(n),Es(n,c)&&(c=Rs(s._scopes,s,n,c)),c}function ef(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&i(n))return t[r.index%t.length];if(W(t[0])){const c=t,l=s._scopes.filter(u=>u!==c);t=[];for(const u of c){const p=Rs(l,s,n,u);t.push(Ee(p,r,o&&o[n],a))}}return t}function Da(n,t,e){return re(n)?n(t,e):n}const nf=(n,t)=>n===!0?t:typeof n=="string"?se(t,n):void 0;function sf(n,t,e,i,s){for(const r of t){const o=nf(e,r);if(o){n.add(o);const a=Da(o._fallback,e,s);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function Rs(n,t,e,i){const s=t._rootScopes,r=Da(t._fallback,e,i),o=[...n,...s],a=new Set;a.add(i);let c=Fr(a,o,e,r||e,i);return c===null||typeof r<"u"&&r!==e&&(c=Fr(a,o,r,c,i),c===null)?!1:As(Array.from(a),[""],s,r,()=>rf(t,e,i))}function Fr(n,t,e,i,s){for(;e;)e=sf(n,t,e,i,s);return e}function rf(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Q(s)&&W(e)?e:s||{}}function of(n,t,e,i){let s;for(const r of t)if(s=La(Qd(r,n),e),typeof s<"u")return Es(n,s)?Rs(e,i,n,s):s}function La(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Nr(n){let t=n._keys;return t||(t=n._keys=af(n._scopes)),t}function af(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function Ia(n,t,e,i){const{iScale:s}=n,{key:r="r"}=this._parsing,o=new Array(i);let a,c,l,u;for(a=0,c=i;a<c;++a)l=a+e,u=t[l],o[a]={r:s.parse(se(u,r),l)};return o}const cf=Number.EPSILON||1e-14,Re=(n,t)=>t<n.length&&!n[t].skip&&n[t],Fa=n=>n==="x"?"y":"x";function lf(n,t,e,i){const s=n.skip?t:n,r=t,o=e.skip?t:e,a=Zi(r,s),c=Zi(o,r);let l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const p=i*l,g=i*u;return{previous:{x:r.x-p*(o.x-s.x),y:r.y-p*(o.y-s.y)},next:{x:r.x+g*(o.x-s.x),y:r.y+g*(o.y-s.y)}}}function hf(n,t,e){const i=n.length;let s,r,o,a,c,l=Re(n,0);for(let u=0;u<i-1;++u)if(c=l,l=Re(n,u+1),!(!c||!l)){if(Ke(t[u],0,cf)){e[u]=e[u+1]=0;continue}s=e[u]/t[u],r=e[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[u]=s*o*t[u],e[u+1]=r*o*t[u])}}function uf(n,t,e="x"){const i=Fa(e),s=n.length;let r,o,a,c=Re(n,0);for(let l=0;l<s;++l){if(o=a,a=c,c=Re(n,l+1),!a)continue;const u=a[e],p=a[i];o&&(r=(u-o[e])/3,a[`cp1${e}`]=u-r,a[`cp1${i}`]=p-r*t[l]),c&&(r=(c[e]-u)/3,a[`cp2${e}`]=u+r,a[`cp2${i}`]=p+r*t[l])}}function df(n,t="x"){const e=Fa(t),i=n.length,s=Array(i).fill(0),r=Array(i);let o,a,c,l=Re(n,0);for(o=0;o<i;++o)if(a=c,c=l,l=Re(n,o+1),!!c){if(l){const u=l[t]-c[t];s[o]=u!==0?(l[e]-c[e])/u:0}r[o]=a?l?Nt(s[o-1])!==Nt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}hf(n,s,r),uf(n,r,t)}function kn(n,t,e){return Math.max(Math.min(n,e),t)}function ff(n,t){let e,i,s,r,o,a=Jt(n[0],t);for(e=0,i=n.length;e<i;++e)o=r,r=a,a=e<i-1&&Jt(n[e+1],t),r&&(s=n[e],o&&(s.cp1x=kn(s.cp1x,t.left,t.right),s.cp1y=kn(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=kn(s.cp2x,t.left,t.right),s.cp2y=kn(s.cp2y,t.top,t.bottom)))}function pf(n,t,e,i,s){let r,o,a,c;if(t.spanGaps&&(n=n.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")df(n,s);else{let l=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],c=lf(l,a,n[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&ff(n,e)}function Na(){return typeof window<"u"&&typeof document<"u"}function Ds(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ti(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const pi=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function gf(n,t){return pi(n).getPropertyValue(t)}const mf=["top","right","bottom","left"];function xe(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=mf[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const bf=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function yf(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:r}=i;let o=!1,a,c;if(bf(s,r,n.target))a=s,c=r;else{const l=t.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function me(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=pi(e),r=s.boxSizing==="border-box",o=xe(s,"padding"),a=xe(s,"border","width"),{x:c,y:l,box:u}=yf(n,e),p=o.left+(u&&a.left),g=o.top+(u&&a.top);let{width:m,height:b}=t;return r&&(m-=o.width+a.width,b-=o.height+a.height),{x:Math.round((c-p)/m*e.width/i),y:Math.round((l-g)/b*e.height/i)}}function _f(n,t,e){let i,s;if(t===void 0||e===void 0){const r=Ds(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const o=r.getBoundingClientRect(),a=pi(r),c=xe(a,"border","width"),l=xe(a,"padding");t=o.width-l.width-c.width,e=o.height-l.height-c.height,i=ti(a.maxWidth,r,"clientWidth"),s=ti(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||Qn,maxHeight:s||Qn}}const Cn=n=>Math.round(n*10)/10;function xf(n,t,e,i){const s=pi(n),r=xe(s,"margin"),o=ti(s.maxWidth,n,"clientWidth")||Qn,a=ti(s.maxHeight,n,"clientHeight")||Qn,c=_f(n,t,e);let{width:l,height:u}=c;if(s.boxSizing==="content-box"){const g=xe(s,"border","width"),m=xe(s,"padding");l-=m.width+g.width,u-=m.height+g.height}return l=Math.max(0,l-r.width),u=Math.max(0,i?l/i:u-r.height),l=Cn(Math.min(l,o,c.maxWidth)),u=Cn(Math.min(u,a,c.maxHeight)),l&&!u&&(u=Cn(l/2)),(t!==void 0||e!==void 0)&&i&&c.height&&u>c.height&&(u=c.height,l=Cn(Math.floor(u*i))),{width:l,height:u}}function zr(n,t,e){const i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const vf=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function Br(n,t){const e=gf(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function be(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function wf(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Sf(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=be(n,s,e),a=be(s,r,e),c=be(r,t,e),l=be(o,a,e),u=be(a,c,e);return be(l,u,e)}const kf=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Cf=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Me(n,t,e){return n?kf(t,e):Cf()}function za(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Ba(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function ja(n){return n==="angle"?{between:rn,compare:Cd,normalize:Pt}:{between:Xt,compare:(t,e)=>t-e,normalize:t=>t}}function jr({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function Pf(n,t,e){const{property:i,start:s,end:r}=e,{between:o,normalize:a}=ja(i),c=t.length;let{start:l,end:u,loop:p}=n,g,m;if(p){for(l+=c,u+=c,g=0,m=c;g<m&&o(a(t[l%c][i]),s,r);++g)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:p,style:n.style}}function Ha(n,t,e){if(!e)return[n];const{property:i,start:s,end:r}=e,o=t.length,{compare:a,between:c,normalize:l}=ja(i),{start:u,end:p,loop:g,style:m}=Pf(n,t,e),b=[];let _=!1,x=null,w,S,C;const M=()=>c(s,C,w)&&a(s,C)!==0,k=()=>a(r,w)===0||c(r,C,w),O=()=>_||M(),E=()=>!_||k();for(let A=u,L=u;A<=p;++A)S=t[A%o],!S.skip&&(w=l(S[i]),w!==C&&(_=c(w,s,r),x===null&&O()&&(x=a(w,s)===0?A:L),x!==null&&E()&&(b.push(jr({start:x,end:A,loop:g,count:o,style:m})),x=null),L=A,C=w));return x!==null&&b.push(jr({start:x,end:p,loop:g,count:o,style:m})),b}function Wa(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const r=Ha(i[s],n.points,t);r.length&&e.push(...r)}return e}function Tf(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}function Mf(n,t,e,i){const s=n.length,r=[];let o=t,a=n[t],c;for(c=t+1;c<=e;++c){const l=n[c%s];l.skip||l.stop?a.skip||(i=!1,r.push({start:t%s,end:(c-1)%s,loop:i}),t=o=l.stop?c:null):(o=c,a.skip&&(t=c)),a=l}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function Of(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const r=!!n._loop,{start:o,end:a}=Tf(e,s,r,i);if(i===!0)return Hr(n,[{start:o,end:a,loop:r}],e,t);const c=a<o?a+s:a,l=!!n._fullLoop&&o===0&&a===s-1;return Hr(n,Mf(e,o,c,l),e,t)}function Hr(n,t,e,i){return!i||!i.setContext||!e?t:Af(n,t,e,i)}function Af(n,t,e,i){const s=n._chart.getContext(),r=Wr(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=e.length,l=[];let u=r,p=t[0].start,g=p;function m(b,_,x,w){const S=a?-1:1;if(b!==_){for(b+=c;e[b%c].skip;)b-=S;for(;e[_%c].skip;)_+=S;b%c!==_%c&&(l.push({start:b%c,end:_%c,loop:x,style:w}),u=w,p=_%c)}}for(const b of t){p=a?p:b.start;let _=e[p%c],x;for(g=p+1;g<=b.end;g++){const w=e[g%c];x=Wr(i.setContext(oe(s,{type:"segment",p0:_,p1:w,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:o}))),Ef(x,u)&&m(p,g-1,b.loop,u),_=w,u=x}p<g-1&&m(p,g-1,b.loop,u)}return l}function Wr(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Ef(n,t){if(!t)return!1;const e=[],i=function(s,r){return Ms(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Rf{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const r=e.listeners[s],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ka.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vt=new Rf;const Vr="transparent",Df={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Dr(n||Vr),s=i.valid&&Dr(t||Vr);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Lf{constructor(t,e,i,s){const r=e[i];s=Ue([t.to,s,r,t.from]);const o=Ue([t.from,r,s]);this._active=!0,this._fn=t.fn||Df[t.type||typeof o],this._easing=Ge[t.easing]||Ge.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ue([t.to,e,s,t.from]),this._from=Ue([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||e<i),!this._active){this._target[s]=a,this._notify(!0);return}if(e<0){this._target[s]=r;return}c=e/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,a,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class Va{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!W(t))return;const e=Object.keys(ot.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!W(r))return;const o={};for(const a of e)o[a]=r[a];(Q(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){const i=e.options,s=Ff(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&If(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){s.push(...this._animateOptions(t,e));continue}const u=e[l];let p=r[l];const g=i.get(l);if(p)if(g&&p.active()){p.update(g,u,a);continue}else p.cancel();if(!g||!g.duration){t[l]=u;continue}r[l]=p=new Lf(g,t,l,u),s.push(p)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Vt.add(this._chart,i),!0}}function If(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function Ff(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ur(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function Nf(n,t,e){if(e===!1)return!1;const i=Ur(n,e),s=Ur(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function zf(n){let t,e,i,s;return W(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function Ua(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function $r(n,t,e,i={}){const s=n.keys,r=i.mode==="single";let o,a,c,l;if(t!==null){for(o=0,a=s.length;o<a;++o){if(c=+s[o],c===e){if(i.all)continue;break}l=n.values[c],rt(l)&&(r||t===0||Nt(t)===Nt(l))&&(t+=l)}return t}}function Bf(n){const t=Object.keys(n),e=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],e[i]={x:r,y:n[r]};return e}function qr(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function jf(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Hf(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function Wf(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Xr(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function Yr(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,c=r.axis,l=o.axis,u=jf(r,o,i),p=t.length;let g;for(let m=0;m<p;++m){const b=t[m],{[c]:_,[l]:x}=b,w=b._stacks||(b._stacks={});g=w[l]=Wf(s,u,_),g[a]=x,g._top=Xr(g,o,!0,i.type),g._bottom=Xr(g,o,!1,i.type);const S=g._visualValues||(g._visualValues={});S[a]=x}}function Fi(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Vf(n,t){return oe(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Uf(n,t,e){return oe(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ze(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}const Ni=n=>n==="reset"||n==="none",Jr=(n,t)=>t?n:Object.assign({},n),$f=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Ua(e,!0),values:null};class Rt{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=qr(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ze(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(p,g,m,b)=>p==="x"?g:p==="r"?b:m,r=e.xAxisID=B(i.xAxisID,Fi(t,"x")),o=e.yAxisID=B(i.yAxisID,Fi(t,"y")),a=e.rAxisID=B(i.rAxisID,Fi(t,"r")),c=e.indexAxis,l=e.iAxisID=s(c,r,o,a),u=e.vAxisID=s(c,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ar(this._data,this),t._stacked&&ze(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(W(e))this._data=Bf(e);else if(i!==e){if(i){Ar(i,this);const s=this._cachedMeta;ze(s),s._parsed=[]}e&&Object.isExtensible(e)&&Od(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=e._stacked;e._stacked=qr(e.vScale,e),e.stack!==i.stack&&(s=!0,ze(e),e.stack=i.stack),this._resyncElements(t),(s||r!==e._stacked)&&Yr(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let c=t===0&&e===s.length?!0:i._sorted,l=t>0&&i._parsed[t-1],u,p,g;if(this._parsing===!1)i._parsed=s,i._sorted=!0,g=s;else{Q(s[t])?g=this.parseArrayData(i,s,t,e):W(s[t])?g=this.parseObjectData(i,s,t,e):g=this.parsePrimitiveData(i,s,t,e);const m=()=>p[a]===null||l&&p[a]<l[a];for(u=0;u<e;++u)i._parsed[u+t]=p=g[u],c&&(m()&&(c=!1),l=p);i._sorted=c}o&&Yr(this,g)}parsePrimitiveData(t,e,i,s){const{iScale:r,vScale:o}=t,a=r.axis,c=o.axis,l=r.getLabels(),u=r===o,p=new Array(s);let g,m,b;for(g=0,m=s;g<m;++g)b=g+i,p[g]={[a]:u||r.parse(l[b],b),[c]:o.parse(e[b],b)};return p}parseArrayData(t,e,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let c,l,u,p;for(c=0,l=s;c<l;++c)u=c+i,p=e[u],a[c]={x:r.parse(p[0],u),y:o.parse(p[1],u)};return a}parseObjectData(t,e,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=new Array(s);let u,p,g,m;for(u=0,p=s;u<p;++u)g=u+i,m=e[g],l[u]={x:r.parse(se(m,a),g),y:o.parse(se(m,c),g)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:Ua(s,!0),values:e._stacks[t.axis]._visualValues};return $r(a,o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const r=i[e.axis];let o=r===null?NaN:r;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=$r(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),c=$f(e,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:p}=Hf(a);let g,m;function b(){m=s[g];const _=m[a.axis];return!rt(m[t.axis])||u>_||p<_}for(g=0;g<o&&!(!b()&&(this.updateRangeFromParsed(l,t,m,c),r));++g);if(r){for(g=o-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(l,t,m,c);break}}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=e.length;s<r;++s)o=e[s][t.axis],rt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=zf(B(this.options.clip,Nf(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],r=e.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,c),u=a;u<a+c;++u){const p=s[u];p.hidden||(p.active&&l?o.push(p):p.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=Uf(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Vf(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],c=this.enableOptionSharing&&sn(i);if(a)return Jr(a,c);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,t),p=s?[`${t}Hover`,"hover",t,""]:[t,""],g=l.getOptionScopes(this.getDataset(),u),m=Object.keys(ot.elements[t]),b=()=>this.getContext(i,s,e),_=l.resolveNamedOptions(g,m,b,p);return _.$shared&&(_.$shared=c,r[o]=Object.freeze(Jr(_,c))),_}_resolveAnimations(t,e,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let c;if(s.options.animation!==!1){const u=this.chart.config,p=u.datasetAnimationScopeKeys(this._type,e),g=u.getOptionScopes(this.getDataset(),p);c=u.createResolver(g,this.getContext(t,i,e))}const l=new Va(s,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ni(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(e,r)||r!==s;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:o}}updateElement(t,e,i,s){Ni(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Ni(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const r=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,c,l]of this._syncList)this[a](c,l);this._syncList=[];const s=i.length,r=e.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,e,i=!0){const s=this._cachedMeta,r=s.data,o=t+e;let a;const c=l=>{for(l.length+=e,a=l.length-1;a>=o;a--)l[a]=l[a-e]};for(c(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&ze(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}D(Rt,"defaults",{}),D(Rt,"datasetElementType",null),D(Rt,"dataElementType",null);function qf(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=Sa(i.sort((s,r)=>s-r))}return n._cache.$bar}function Xf(n){const t=n.iScale,e=qf(t,n.type);let i=t._length,s,r,o,a;const c=()=>{o===32767||o===-32768||(sn(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),c();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),c();return i}function Yf(n,t,e,i){const s=e.barThickness;let r,o;return U(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[n]-r/2}}function Jf(n,t,e,i){const s=t.pixels,r=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const c=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const l=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:e.barPercentage,start:l}}function Kf(n,t,e,i){const s=e.parse(n[0],i),r=e.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r);let c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:s,end:r,min:o,max:a}}function $a(n,t,e,i){return Q(n)?Kf(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Kr(n,t,e,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,c=[];let l,u,p,g;for(l=e,u=e+i;l<u;++l)g=t[l],p={},p[s.axis]=a||s.parse(o[l],l),c.push($a(g,p,r,l));return c}function zi(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Gf(n,t,e){return n!==0?Nt(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Qf(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}function Zf(n,t,e,i){let s=t.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:l,bottom:u}=Qf(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=l:(e._bottom||0)===i?s=u:(r[Gr(u,o,a,c)]=!0,s=l)),r[Gr(s,o,a,c)]=!0,n.borderSkipped=r}function Gr(n,t,e,i){return i?(n=tp(n,t,e),n=Qr(n,e,t)):n=Qr(n,t,e),n}function tp(n,t,e){return n===t?e:n===e?t:n}function Qr(n,t,e){return n==="start"?t:n==="end"?e:n}function ep(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class zn extends Rt{parsePrimitiveData(t,e,i,s){return Kr(t,e,i,s)}parseArrayData(t,e,i,s){return Kr(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=r.axis==="x"?a:c,u=o.axis==="x"?a:c,p=[];let g,m,b,_;for(g=i,m=i+s;g<m;++g)_=e[g],b={},b[r.axis]=r.parse(se(_,l),g),p.push($a(se(_,u),b,o,g));return p}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,r=this.getParsed(t),o=r._custom,a=zi(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),l=a.isHorizontal(),u=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(e,s);for(let m=e;m<e+i;m++){const b=this.getParsed(m),_=r||U(b[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,u),w=(b._stacks||{})[a.axis],S={horizontal:l,base:_.base,enableBorderRadius:!w||zi(b._custom)||o===w._top||o===w._bottom,x:l?_.head:x.center,y:l?x.center:_.head,height:l?x.size:Math.abs(_.size),width:l?Math.abs(_.size):x.size};g&&(S.options=p||this.resolveDataElementOptions(m,t[m].active?"active":s));const C=S.options||t[m].options;Zf(S,C,w,o),ep(S,C,u.ratio),this.updateElement(t[m],m,S,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),r=i.options.stacked,o=[],a=c=>{const l=c.controller.getParsed(e),u=l&&l[c.vScale.axis];if(U(u)||isNaN(u))return!0};for(const c of s)if(!(e!==void 0&&a(c))&&((r===!1||o.indexOf(c.stack)===-1||r===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),r=e!==void 0?s.indexOf(e):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let r,o;for(r=0,o=e.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||Xf(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(t),l=c._custom,u=zi(l);let p=c[e.axis],g=0,m=i?this.applyStack(e,c,i):p,b,_;m!==p&&(g=m-p,m=p),u&&(p=l.barStart,m=l.barEnd-l.barStart,p!==0&&Nt(p)!==Nt(l.barEnd)&&(g=0),g+=p);const x=!U(r)&&!u?r:g;let w=e.getPixelForValue(x);if(this.chart.getDataVisibility(t)?b=e.getPixelForValue(g+m):b=w,_=b-w,Math.abs(_)<o){_=Gf(_,e,a)*o,p===a&&(w-=_/2);const S=e.getPixelForDecimal(0),C=e.getPixelForDecimal(1),M=Math.min(S,C),k=Math.max(S,C);w=Math.max(Math.min(w,k),M),b=w+_,i&&!u&&(c._stacks[e.axis]._visualValues[s]=e.getValueForPixel(b)-e.getValueForPixel(w))}if(w===e.getPixelForValue(a)){const S=Nt(_)*e.getLineWidthForValue(a)/2;w+=S,_-=S}return{size:_,base:w,head:b,center:b+_/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,r=s.skipNull,o=B(s.maxBarThickness,1/0);let a,c;if(e.grouped){const l=r?this._getStackCount(t):e.stackCount,u=s.barThickness==="flex"?Jf(t,e,s,l):Yf(t,e,s,l),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*p+u.chunk/2,c=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(o,e.min*e.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[e.axis]!==null&&i[r].draw(this._ctx)}}D(zn,"id","bar"),D(zn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),D(zn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Bn extends Rt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const r=super.parsePrimitiveData(t,e,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,e,i,s){const r=super.parseArrayData(t,e,i,s);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=B(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,e,i,s){const r=super.parseObjectData(t,e,i,s);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=B(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y),l=o._custom;return{label:i[t]||"",value:"("+a+", "+c+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:l}=this._getSharedOptions(e,s),u=o.axis,p=a.axis;for(let g=e;g<e+i;g++){const m=t[g],b=!r&&this.getParsed(g),_={},x=_[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(b[u]),w=_[p]=r?a.getBasePixel():a.getPixelForValue(b[p]);_.skip=isNaN(x)||isNaN(w),l&&(_.options=c||this.resolveDataElementOptions(g,m.active?"active":s),r&&(_.options.radius=0)),this.updateElement(m,g,_,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return e!=="active"&&(s.radius=0),s.radius+=B(i&&i._custom,r),s}}D(Bn,"id","bubble"),D(Bn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),D(Bn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function np(n,t,e){let i=1,s=1,r=0,o=0;if(t<Z){const a=n,c=a+t,l=Math.cos(a),u=Math.sin(a),p=Math.cos(c),g=Math.sin(c),m=(C,M,k)=>rn(C,a,c,!0)?1:Math.max(M,M*e,k,k*e),b=(C,M,k)=>rn(C,a,c,!0)?-1:Math.min(M,M*e,k,k*e),_=m(0,l,p),x=m(at,u,g),w=b(tt,l,p),S=b(tt+at,u,g);i=(_-w)/2,s=(x-S)/2,r=-(_+w)/2,o=-(x+S)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class ye extends Rt{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=c=>+i[c];if(W(i[t])){const{key:c="value"}=this._parsing;r=l=>+se(i[l],c)}let o,a;for(o=t,a=t+e;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Et(this.options.rotation-90)}_getCircumference(){return Et(this.options.circumference)}_getRotationExtents(){let t=Z,e=-Z;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(gd(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:u,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:m,offsetX:b,offsetY:_}=np(p,u,c),x=(i.width-o)/g,w=(i.height-o)/m,S=Math.max(Math.min(x,w)/2,0),C=ya(this.options.radius,S),M=Math.max(C*c,0),k=(C-M)/this._getVisibleDatasetWeightTotal();this.offsetX=b*C,this.offsetY=_*C,s.total=this.calculateTotal(),this.outerRadius=C-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*l,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Z)}updateElements(t,e,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,l=o.options.animation,u=(a.left+a.right)/2,p=(a.top+a.bottom)/2,g=r&&l.animateScale,m=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:_,includeOptions:x}=this._getSharedOptions(e,s);let w=this._getRotation(),S;for(S=0;S<e;++S)w+=this._circumference(S,r);for(S=e;S<e+i;++S){const C=this._circumference(S,r),M=t[S],k={x:u+this.offsetX,y:p+this.offsetY,startAngle:w,endAngle:w+C,circumference:C,outerRadius:b,innerRadius:m};x&&(k.options=_||this.resolveDataElementOptions(S,M.active?"active":s)),w+=C,this.updateElement(M,S,k,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Z*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=fn(e._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,r,o,a,c;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)c=a.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(e=Math.max(e,c.borderWidth||0,c.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(B(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}D(ye,"id","doughnut"),D(ye,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),D(ye,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),D(ye,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class jn extends Rt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:a,count:c}=Pa(e,s,o);this._drawStart=a,this._drawCount=c,Ta(e)&&(a=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},t),this.updateElements(s,a,c,t)}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:l}=this._cachedMeta,{sharedOptions:u,includeOptions:p}=this._getSharedOptions(e,s),g=o.axis,m=a.axis,{spanGaps:b,segment:_}=this.options,x=Ae(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||r||s==="none",S=e+i,C=t.length;let M=e>0&&this.getParsed(e-1);for(let k=0;k<C;++k){const O=t[k],E=w?O:{};if(k<e||k>=S){E.skip=!0;continue}const A=this.getParsed(k),L=U(A[m]),F=E[g]=o.getPixelForValue(A[g],k),j=E[m]=r||L?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,A,c):A[m],k);E.skip=isNaN(F)||isNaN(j)||L,E.stop=k>0&&Math.abs(A[g]-M[g])>x,_&&(E.parsed=A,E.raw=l.data[k]),p&&(E.options=u||this.resolveDataElementOptions(k,O.active?"active":s)),w||this.updateElement(O,k,E,s),M=A}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}D(jn,"id","line"),D(jn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),D(jn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ze extends Rt{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=fn(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,e,i,s){return Ia.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,s){const r=s==="reset",o=this.chart,c=o.options.animation,l=this._cachedMeta.rScale,u=l.xCenter,p=l.yCenter,g=l.getIndexAngle(0)-.5*tt;let m=g,b;const _=360/this.countVisibleElements();for(b=0;b<e;++b)m+=this._computeAngle(b,s,_);for(b=e;b<e+i;b++){const x=t[b];let w=m,S=m+this._computeAngle(b,s,_),C=o.getDataVisibility(b)?l.getDistanceFromCenterForValue(this.getParsed(b).r):0;m=S,r&&(c.animateScale&&(C=0),c.animateRotate&&(w=S=g));const M={x:u,y:p,innerRadius:0,outerRadius:C,startAngle:w,endAngle:S,options:this.resolveDataElementOptions(b,x.active?"active":s)};this.updateElement(x,b,M,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Et(this.resolveDataElementOptions(t,e).angle||i):0}}D(Ze,"id","polarArea"),D(Ze,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),D(Ze,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ns extends ye{}D(ns,"id","pie"),D(ns,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Hn extends Rt{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return Ia.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],r=e.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=e;a<e+i;a++){const c=t[a],l=this.resolveDataElementOptions(a,c.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),p=o?r.xCenter:u.x,g=o?r.yCenter:u.y,m={x:p,y:g,angle:u.angle,skip:isNaN(p)||isNaN(g),options:l};this.updateElement(c,a,m,s)}}}D(Hn,"id","radar"),D(Hn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),D(Hn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Wn extends Rt{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+c+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:r,count:o}=Pa(e,i,s);if(this._drawStart=r,this._drawCount=o,Ta(e)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=i;const l=this.resolveDatasetElementOptions(t);l.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:l},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:l}=this._cachedMeta,u=this.resolveDataElementOptions(e,s),p=this.getSharedOptions(u),g=this.includeOptions(s,p),m=o.axis,b=a.axis,{spanGaps:_,segment:x}=this.options,w=Ae(_)?_:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||r||s==="none";let C=e>0&&this.getParsed(e-1);for(let M=e;M<e+i;++M){const k=t[M],O=this.getParsed(M),E=S?k:{},A=U(O[b]),L=E[m]=o.getPixelForValue(O[m],M),F=E[b]=r||A?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,O,c):O[b],M);E.skip=isNaN(L)||isNaN(F)||A,E.stop=M>0&&Math.abs(O[m]-C[m])>w,x&&(E.parsed=O,E.raw=l.data[M]),g&&(E.options=p||this.resolveDataElementOptions(M,k.active?"active":s)),S||this.updateElement(k,M,E,s),C=O}this.updateSharedOptions(p,s,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let c=e.length-1;c>=0;--c)a=Math.max(a,e[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,r,o)/2}}D(Wn,"id","scatter"),D(Wn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),D(Wn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var ip=Object.freeze({__proto__:null,BarController:zn,BubbleController:Bn,DoughnutController:ye,LineController:jn,PieController:ns,PolarAreaController:Ze,RadarController:Hn,ScatterController:Wn});function pe(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ls{constructor(t){D(this,"options");this.options=t||{}}static override(t){Object.assign(Ls.prototype,t)}init(){}formats(){return pe()}parse(){return pe()}format(){return pe()}add(){return pe()}diff(){return pe()}startOf(){return pe()}endOf(){return pe()}}var sp={_date:Ls};function rp(n,t,e,i){const{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?Td:Yt;if(i){if(s._sharedOptions){const l=r[0],u=typeof l.getRange=="function"&&l.getRange(t);if(u){const p=c(r,t,e-u),g=c(r,t,e+u);return{lo:p.lo,hi:g.hi}}}}else return c(r,t,e)}return{lo:0,hi:r.length-1}}function pn(n,t,e,i,s){const r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,c=r.length;a<c;++a){const{index:l,data:u}=r[a],{lo:p,hi:g}=rp(r[a],t,o,s);for(let m=p;m<=g;++m){const b=u[m];b.skip||i(b,l,m)}}}function op(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Bi(n,t,e,i,s){const r=[];return!s&&!n.isPointInArea(t)||pn(n,e,t,function(a,c,l){!s&&!Jt(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:c,index:l})},!0),r}function ap(n,t,e,i){let s=[];function r(o,a,c){const{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:p}=va(o,{x:t.x,y:t.y});rn(p,l,u)&&s.push({element:o,datasetIndex:a,index:c})}return pn(n,e,t,r),s}function cp(n,t,e,i,s,r){let o=[];const a=op(e);let c=Number.POSITIVE_INFINITY;function l(u,p,g){const m=u.inRange(t.x,t.y,s);if(i&&!m)return;const b=u.getCenterPoint(s);if(!(!!r||n.isPointInArea(b))&&!m)return;const x=a(t,b);x<c?(o=[{element:u,datasetIndex:p,index:g}],c=x):x===c&&o.push({element:u,datasetIndex:p,index:g})}return pn(n,e,t,l),o}function ji(n,t,e,i,s,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!i?ap(n,t,e,s):cp(n,t,e,i,s,r)}function Zr(n,t,e,i,s){const r=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return pn(n,e,t,(c,l,u)=>{c[o](t[e],s)&&(r.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(t.x,t.y,s))}),i&&!a?[]:r}var lp={evaluateInteractionItems:pn,modes:{index(n,t,e,i){const s=me(t,n),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?Bi(n,s,r,i,o):ji(n,s,r,!1,i,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{const u=a[0].index,p=l.data[u];p&&!p.skip&&c.push({element:p,datasetIndex:l.index,index:u})}),c):[]},dataset(n,t,e,i){const s=me(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?Bi(n,s,r,i,o):ji(n,s,r,!1,i,o);if(a.length>0){const c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(n,t,e,i){const s=me(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return Bi(n,s,r,i,o)},nearest(n,t,e,i){const s=me(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return ji(n,s,r,e.intersect,i,o)},x(n,t,e,i){const s=me(t,n);return Zr(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=me(t,n);return Zr(n,s,"y",e.intersect,i)}}};const qa=["left","top","right","bottom"];function Be(n,t){return n.filter(e=>e.pos===t)}function to(n,t){return n.filter(e=>qa.indexOf(e.pos)===-1&&e.box.axis===t)}function je(n,t){return n.sort((e,i)=>{const s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function hp(n){const t=[];let e,i,s,r,o,a;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function up(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:r}=e;if(!i||!qa.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function dp(n,t){const e=up(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:c}=a.box,l=e[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*i:c&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:c&&t.availableHeight)}return e}function fp(n){const t=hp(n),e=je(t.filter(l=>l.box.fullSize),!0),i=je(Be(t,"left"),!0),s=je(Be(t,"right")),r=je(Be(t,"top"),!0),o=je(Be(t,"bottom")),a=to(t,"x"),c=to(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(o).concat(a),chartArea:Be(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(o).concat(a)}}function eo(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Xa(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function pp(n,t,e,i){const{pos:s,box:r}=e,o=n.maxPadding;if(!W(s)){e.size&&(n[s]-=e.size);const p=i[e.stack]||{size:0,count:1};p.size=Math.max(p.size,e.horizontal?r.height:r.width),e.size=p.size/p.count,n[s]+=e.size}r.getPadding&&Xa(o,r.getPadding());const a=Math.max(0,t.outerWidth-eo(o,n,"left","right")),c=Math.max(0,t.outerHeight-eo(o,n,"top","bottom")),l=a!==n.w,u=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:l,other:u}:{same:u,other:l}}function gp(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function mp(n,t){const e=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return i(n?["left","right"]:["top","bottom"])}function $e(n,t,e,i){const s=[];let r,o,a,c,l,u;for(r=0,o=n.length,l=0;r<o;++r){a=n[r],c=a.box,c.update(a.width||t.w,a.height||t.h,mp(a.horizontal,t));const{same:p,other:g}=pp(t,e,a,i);l|=p&&s.length,u=u||g,c.fullSize||s.push(a)}return l&&$e(s,t,e,i)||u}function Pn(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function no(n,t,e,i){const s=e.padding;let{x:r,y:o}=t;for(const a of n){const c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const p=t.w*u,g=l.size||c.height;sn(l.start)&&(o=l.start),c.fullSize?Pn(c,s.left,o,e.outerWidth-s.right-s.left,g):Pn(c,t.left+l.placed,o,p,g),l.start=o,l.placed+=p,o=c.bottom}else{const p=t.h*u,g=l.size||c.width;sn(l.start)&&(r=l.start),c.fullSize?Pn(c,r,s.top,g,e.outerHeight-s.bottom-s.top):Pn(c,r,t.top+l.placed,g,p),l.start=r,l.placed+=p,r=c.right}}t.x=r,t.y=o}var yt={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=_t(n.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),a=fp(n.boxes),c=a.vertical,l=a.horizontal;J(n.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=c.reduce((_,x)=>x.box.options&&x.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),g=Object.assign({},s);Xa(g,_t(i));const m=Object.assign({maxPadding:g,w:r,h:o,x:s.left,y:s.top},s),b=dp(c.concat(l),p);$e(a.fullSize,m,p,b),$e(c,m,p,b),$e(l,m,p,b)&&$e(c,m,p,b),gp(m),no(a.leftAndTop,m,p,b),m.x+=m.w,m.y+=m.h,no(a.rightAndBottom,m,p,b),n.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},J(a.chartArea,_=>{const x=_.box;Object.assign(x,n.chartArea),x.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Ya{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class bp extends Ya{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Vn="$chartjs",yp={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},so=n=>n===null||n==="";function _p(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Vn]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",so(s)){const r=Br(n,"width");r!==void 0&&(n.width=r)}if(so(i))if(n.style.height==="")n.height=n.width/(t||2);else{const r=Br(n,"height");r!==void 0&&(n.height=r)}return n}const Ja=vf?{passive:!0}:!1;function xp(n,t,e){n.addEventListener(t,e,Ja)}function vp(n,t,e){n.canvas.removeEventListener(t,e,Ja)}function wp(n,t){const e=yp[n.type]||n.type,{x:i,y:s}=me(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function ei(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Sp(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ei(a.addedNodes,i),o=o&&!ei(a.removedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function kp(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ei(a.removedNodes,i),o=o&&!ei(a.addedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const an=new Map;let ro=0;function Ka(){const n=window.devicePixelRatio;n!==ro&&(ro=n,an.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Cp(n,t){an.size||window.addEventListener("resize",Ka),an.set(n,t)}function Pp(n){an.delete(n),an.size||window.removeEventListener("resize",Ka)}function Tp(n,t,e){const i=n.canvas,s=i&&Ds(i);if(!s)return;const r=Ca((a,c)=>{const l=s.clientWidth;e(a,c),l<s.clientWidth&&e()},window),o=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||r(l,u)});return o.observe(s),Cp(n,r),o}function Hi(n,t,e){e&&e.disconnect(),t==="resize"&&Pp(n)}function Mp(n,t,e){const i=n.canvas,s=Ca(r=>{n.ctx!==null&&e(wp(r,n))},n);return xp(i,t,s),s}class Op extends Ya{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(_p(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Vn])return!1;const i=e[Vn].initial;["height","width"].forEach(r=>{const o=i[r];U(o)?e.removeAttribute(r):e.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[Vn],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),o={attach:Sp,detach:kp,resize:Tp}[e]||Mp;s[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Hi,detach:Hi,resize:Hi}[e]||vp)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return xf(t,e,i,s)}isAttached(t){const e=Ds(t);return!!(e&&e.isConnected)}}function Ap(n){return!Na()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?bp:Op}class Dt{constructor(){D(this,"x");D(this,"y");D(this,"active",!1);D(this,"options");D(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Ae(this.x)&&Ae(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}D(Dt,"defaults",{}),D(Dt,"defaultRoutes");function Ep(n,t){const e=n.options.ticks,i=Rp(n),s=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?Lp(t):[],o=r.length,a=r[0],c=r[o-1],l=[];if(o>s)return Ip(t,l,r,o/s),l;const u=Dp(r,t,s);if(o>0){let p,g;const m=o>1?Math.round((c-a)/(o-1)):null;for(Tn(t,l,u,U(m)?0:a-m,a),p=0,g=o-1;p<g;p++)Tn(t,l,u,r[p],r[p+1]);return Tn(t,l,u,c,U(m)?t.length:c+m),l}return Tn(t,l,u),l}function Rp(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function Dp(n,t,e){const i=Fp(n),s=t.length/e;if(!i)return Math.max(s,1);const r=Sd(i);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>s)return c}return Math.max(s,1)}function Lp(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Ip(n,t,e,i){let s=0,r=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(t.push(n[o]),s++,r=e[s*i])}function Tn(n,t,e,i,s){const r=B(i,0),o=Math.min(B(s,n.length),n.length);let a=0,c,l,u;for(e=Math.ceil(e),s&&(c=s-i,e=c/Math.floor(c/e)),u=r;u<0;)a++,u=Math.round(r+a*e);for(l=Math.max(r,0);l<o;l++)l===u&&(t.push(n[l]),a++,u=Math.round(r+a*e))}function Fp(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const Np=n=>n==="left"?"right":n==="right"?"left":n,oo=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,ao=(n,t)=>Math.min(t||n,n);function co(n,t){const e=[],i=n.length/t,s=n.length;let r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function zp(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,o=n._endPixel,a=1e-6;let c=n.getPixelForTick(s),l;if(!(e&&(i===1?l=Math.max(c-r,o-c):t===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<r-a||c>o+a)))return c}function Bp(n,t){J(n,e=>{const i=e.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}function He(n){return n.drawTicks?n.tickLength:0}function lo(n,t){if(!n.display)return 0;const e=ut(n.font,t),i=_t(n.padding);return(Q(n.text)?n.text.length:1)*e.lineHeight+i.height}function jp(n,t){return oe(n,{scale:t,type:"scale"})}function Hp(n,t,e){return oe(n,{tick:e,index:t,type:"tick"})}function Wp(n,t,e){let i=Ts(n);return(e&&t!=="right"||!e&&t==="right")&&(i=Np(i)),i}function Vp(n,t,e,i){const{top:s,left:r,bottom:o,right:a,chart:c}=n,{chartArea:l,scales:u}=c;let p=0,g,m,b;const _=o-s,x=a-r;if(n.isHorizontal()){if(m=bt(i,r,a),W(e)){const w=Object.keys(e)[0],S=e[w];b=u[w].getPixelForValue(S)+_-t}else e==="center"?b=(l.bottom+l.top)/2+_-t:b=oo(n,e,t);g=a-r}else{if(W(e)){const w=Object.keys(e)[0],S=e[w];m=u[w].getPixelForValue(S)-x+t}else e==="center"?m=(l.left+l.right)/2-x+t:m=oo(n,e,t);b=bt(i,o,s),p=e==="left"?-at:at}return{titleX:m,titleY:b,maxWidth:g,rotation:p}}class Se extends Dt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=Ct(t,Number.POSITIVE_INFINITY),e=Ct(e,Number.NEGATIVE_INFINITY),i=Ct(i,Number.POSITIVE_INFINITY),s=Ct(s,Number.NEGATIVE_INFINITY),{min:Ct(t,i),max:Ct(e,s),minDefined:rt(t),maxDefined:rt(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:Ct(e,Ct(i,e)),max:Ct(i,Ct(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){G(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Gd(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?co(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Ep(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){G(this.options.afterUpdate,[this])}beforeSetDimensions(){G(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){G(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),G(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){G(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=G(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){G(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){G(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=ao(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation;let o=s,a,c,l;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),p=u.widest.width,g=u.highest.height,m=ft(this.chart.width-p,0,this.maxWidth);a=t.offset?this.maxWidth/i:m/(i-1),p+6>a&&(a=m/(i-(t.offset?.5:1)),c=this.maxHeight-He(t.grid)-e.padding-lo(t.title,this.chart.options.font),l=Math.sqrt(p*p+g*g),o=Cs(Math.min(Math.asin(ft((u.highest.height+6)/a,-1,1)),Math.asin(ft(c/l,-1,1))-Math.asin(ft(g/l,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){G(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){G(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=lo(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=He(r)+c):(t.height=this.maxHeight,t.width=He(r)+c),i.display&&this.ticks.length){const{first:l,last:u,widest:p,highest:g}=this._getLabelSizes(),m=i.padding*2,b=Et(this.labelRotation),_=Math.cos(b),x=Math.sin(b);if(a){const w=i.mirror?0:x*p.width+_*g.height;t.height=Math.min(this.maxHeight,t.height+w+m)}else{const w=i.mirror?0:_*p.width+x*g.height;t.width=Math.min(this.maxWidth,t.width+w+m)}this._calculatePadding(l,u,x,_)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,m=0;c?l?(g=s*t.width,m=i*e.height):(g=i*t.height,m=s*e.width):r==="start"?m=e.width:r==="end"?g=t.width:r!=="inner"&&(g=t.width/2,m=e.width/2),this.paddingLeft=Math.max((g-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-p+o)*this.width/(this.width-p),0)}else{let u=e.height/2,p=t.height/2;r==="start"?(u=0,p=t.height):r==="end"&&(u=e.height,p=0),this.paddingTop=u+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){G(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)U(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=co(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(e/ao(e,i));let l=0,u=0,p,g,m,b,_,x,w,S,C,M,k;for(p=0;p<e;p+=c){if(b=t[p].label,_=this._resolveTickFontOptions(p),s.font=x=_.string,w=r[x]=r[x]||{data:{},gc:[]},S=_.lineHeight,C=M=0,!U(b)&&!Q(b))C=Zn(s,w.data,w.gc,C,b),M=S;else if(Q(b))for(g=0,m=b.length;g<m;++g)k=b[g],!U(k)&&!Q(k)&&(C=Zn(s,w.data,w.gc,C,k),M+=S);o.push(C),a.push(M),l=Math.max(C,l),u=Math.max(M,u)}Bp(r,e);const O=o.indexOf(l),E=a.indexOf(u),A=L=>({width:o[L]||0,height:a[L]||0});return{first:A(0),last:A(e-1),widest:A(O),highest:A(E),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Pd(this._alignToPixels?fe(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=Hp(this.getContext(),t,i))}return this.$context||(this.$context=jp(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Et(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*i>a*s?a/i:c/s:c*s<a*i?c/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,c=r.offset,l=this.isHorizontal(),p=this.ticks.length+(c?1:0),g=He(r),m=[],b=a.setContext(this.getContext()),_=b.display?b.width:0,x=_/2,w=function(K){return fe(i,K,_)};let S,C,M,k,O,E,A,L,F,j,H,it;if(o==="top")S=w(this.bottom),E=this.bottom-g,L=S-x,j=w(t.top)+x,it=t.bottom;else if(o==="bottom")S=w(this.top),j=t.top,it=w(t.bottom)-x,E=S+x,L=this.top+g;else if(o==="left")S=w(this.right),O=this.right-g,A=S-x,F=w(t.left)+x,H=t.right;else if(o==="right")S=w(this.left),F=t.left,H=w(t.right)-x,O=S+x,A=this.left+g;else if(e==="x"){if(o==="center")S=w((t.top+t.bottom)/2+.5);else if(W(o)){const K=Object.keys(o)[0],et=o[K];S=w(this.chart.scales[K].getPixelForValue(et))}j=t.top,it=t.bottom,E=S+x,L=E+g}else if(e==="y"){if(o==="center")S=w((t.left+t.right)/2);else if(W(o)){const K=Object.keys(o)[0],et=o[K];S=w(this.chart.scales[K].getPixelForValue(et))}O=S-x,A=O-g,F=t.left,H=t.right}const xt=B(s.ticks.maxTicksLimit,p),X=Math.max(1,Math.ceil(p/xt));for(C=0;C<p;C+=X){const K=this.getContext(C),et=r.setContext(K),kt=a.setContext(K),ht=et.lineWidth,Gt=et.color,ke=kt.dash||[],vt=kt.dashOffset,ae=et.tickWidth,ce=et.tickColor,st=et.tickBorderDash||[],ct=et.tickBorderDashOffset;M=zp(this,C,c),M!==void 0&&(k=fe(i,M,ht),l?O=A=F=H=k:E=L=j=it=k,m.push({tx1:O,ty1:E,tx2:A,ty2:L,x1:F,y1:j,x2:H,y2:it,width:ht,color:Gt,borderDash:ke,borderDashOffset:vt,tickWidth:ae,tickColor:ce,tickBorderDash:st,tickBorderDashOffset:ct}))}return this._ticksLength=p,this._borderValue=S,m}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:p}=r,g=He(i.grid),m=g+u,b=p?-u:m,_=-Et(this.labelRotation),x=[];let w,S,C,M,k,O,E,A,L,F,j,H,it="middle";if(s==="top")O=this.bottom-b,E=this._getXAxisLabelAlignment();else if(s==="bottom")O=this.top+b,E=this._getXAxisLabelAlignment();else if(s==="left"){const X=this._getYAxisLabelAlignment(g);E=X.textAlign,k=X.x}else if(s==="right"){const X=this._getYAxisLabelAlignment(g);E=X.textAlign,k=X.x}else if(e==="x"){if(s==="center")O=(t.top+t.bottom)/2+m;else if(W(s)){const X=Object.keys(s)[0],K=s[X];O=this.chart.scales[X].getPixelForValue(K)+m}E=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")k=(t.left+t.right)/2-m;else if(W(s)){const X=Object.keys(s)[0],K=s[X];k=this.chart.scales[X].getPixelForValue(K)}E=this._getYAxisLabelAlignment(g).textAlign}e==="y"&&(c==="start"?it="top":c==="end"&&(it="bottom"));const xt=this._getLabelSizes();for(w=0,S=a.length;w<S;++w){C=a[w],M=C.label;const X=r.setContext(this.getContext(w));A=this.getPixelForTick(w)+r.labelOffset,L=this._resolveTickFontOptions(w),F=L.lineHeight,j=Q(M)?M.length:1;const K=j/2,et=X.color,kt=X.textStrokeColor,ht=X.textStrokeWidth;let Gt=E;o?(k=A,E==="inner"&&(w===S-1?Gt=this.options.reverse?"left":"right":w===0?Gt=this.options.reverse?"right":"left":Gt="center"),s==="top"?l==="near"||_!==0?H=-j*F+F/2:l==="center"?H=-xt.highest.height/2-K*F+F:H=-xt.highest.height+F/2:l==="near"||_!==0?H=F/2:l==="center"?H=xt.highest.height/2-K*F:H=xt.highest.height-j*F,p&&(H*=-1),_!==0&&!X.showLabelBackdrop&&(k+=F/2*Math.sin(_))):(O=A,H=(1-j)*F/2);let ke;if(X.showLabelBackdrop){const vt=_t(X.backdropPadding),ae=xt.heights[w],ce=xt.widths[w];let st=H-vt.top,ct=0-vt.left;switch(it){case"middle":st-=ae/2;break;case"bottom":st-=ae;break}switch(E){case"center":ct-=ce/2;break;case"right":ct-=ce;break}ke={left:ct,top:st,width:ce+vt.width,height:ae+vt.height,color:X.backdropColor}}x.push({label:M,font:L,textOffset:H,options:{rotation:_,color:et,strokeColor:kt,strokeWidth:ht,textAlign:Gt,textBaseline:it,translation:[k,O],backdrop:ke}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Et(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,c=o.widest.width;let l,u;return e==="left"?s?(u=this.right+r,i==="near"?l="left":i==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,i==="near"?l="right":i==="center"?(l="center",u-=c/2):(l="left",u=this.left)):e==="right"?s?(u=this.left+r,i==="near"?l="right":i==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,i==="near"?l="left":i==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(c,l,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){const c=s[r];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,u,p,g;this.isHorizontal()?(l=fe(t,this.left,o)-o/2,u=fe(t,this.right,a)+a/2,p=g=c):(p=fe(t,this.top,o)-o/2,g=fe(t,this.bottom,a)+a/2,l=u=c),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,p),e.lineTo(u,g),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&di(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,c=o.font,l=o.label,u=o.textOffset;we(i,l,0,u,c,a)}s&&fi(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const r=ut(i.font),o=_t(i.padding),a=i.align;let c=r.lineHeight/2;e==="bottom"||e==="center"||W(e)?(c+=o.bottom,Q(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:l,titleY:u,maxWidth:p,rotation:g}=Vp(this,c,e,a);we(t,i.text,0,0,r,{color:i.color,maxWidth:p,rotation:g,textAlign:Wp(a,e,s),textBaseline:"middle",translation:[l,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=B(t.grid&&t.grid.z,-1),s=B(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Se.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ut(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Mn{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;qp(e)&&(i=this.register(e));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,Up(t,o,i),this.override&&ot.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ot[s]&&(delete ot[s][i],this.override&&delete ve[i])}}function Up(n,t,e){const i=nn(Object.create(null),[e?ot.get(e):{},ot.get(t),n.defaults]);ot.set(t,i),n.defaultRoutes&&$p(t,n.defaultRoutes),n.descriptors&&ot.describe(t,n.descriptors)}function $p(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),c=o.join(".");ot.route(r,s,c,a)})}function qp(n){return"id"in n&&"defaults"in n}class Xp{constructor(){this.controllers=new Mn(Rt,"datasets",!0),this.elements=new Mn(Dt,"elements"),this.plugins=new Mn(Object,"plugins"),this.scales=new Mn(Se,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):J(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const s=ks(t);G(i["before"+s],[],i),e[t](i),G(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var It=new Xp;class Yp{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],c=[e,s,r.options];if(G(a,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){U(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=B(i.options&&i.options.plugins,{}),r=Jp(i);return s===!1&&!e?[]:Gp(t,r,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function Jp(n){const t={},e=[],i=Object.keys(It.plugins.items);for(let r=0;r<i.length;r++)e.push(It.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function Kp(n,t){return!t&&n===!1?null:n===!0?{}:n}function Gp(n,{plugins:t,localIds:e},i,s){const r=[],o=n.getContext();for(const a of t){const c=a.id,l=Kp(i[c],s);l!==null&&r.push({plugin:a,options:Qp(n.config,{plugin:a,local:e[c]},l,o)})}return r}function Qp(n,{plugin:t,local:e},i,s){const r=n.pluginScopeKeys(t),o=n.getOptionScopes(i,r);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function is(n,t){const e=ot.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Zp(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function tg(n,t){return n===t?"_index_":"_value_"}function ho(n){if(n==="x"||n==="y"||n==="r")return n}function eg(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ss(n,...t){if(ho(n))return n;for(const e of t){const i=e.axis||eg(e.position)||n.length>1&&ho(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function uo(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function ng(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return uo(n,"x",e[0])||uo(n,"y",e[0])}return{}}function ig(n,t){const e=ve[n.type]||{scales:{}},i=t.scales||{},s=is(n.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!W(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=ss(o,a,ng(o,n),ot.scales[a.type]),l=tg(c,s),u=e.scales||{};r[o]=Je(Object.create(null),[{axis:c},a,u[c],u[l]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,c=o.indexAxis||is(a,t),u=(ve[a]||{}).scales||{};Object.keys(u).forEach(p=>{const g=Zp(p,c),m=o[g+"AxisID"]||g;r[m]=r[m]||Object.create(null),Je(r[m],[{axis:g},i[m],u[p]])})}),Object.keys(r).forEach(o=>{const a=r[o];Je(a,[ot.scales[a.type],ot.scale])}),r}function Ga(n){const t=n.options||(n.options={});t.plugins=B(t.plugins,{}),t.scales=ig(n,t)}function Qa(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function sg(n){return n=n||{},n.data=Qa(n.data),Ga(n),n}const fo=new Map,Za=new Set;function On(n,t){let e=fo.get(n);return e||(e=t(),fo.set(n,e),Za.add(e)),e}const We=(n,t,e)=>{const i=se(t,e);i!==void 0&&n.add(i)};class rg{constructor(t){this._config=sg(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Qa(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ga(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return On(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return On(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return On(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return On(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const c=new Set;e.forEach(u=>{t&&(c.add(t),u.forEach(p=>We(c,t,p))),u.forEach(p=>We(c,s,p)),u.forEach(p=>We(c,ve[r]||{},p)),u.forEach(p=>We(c,ot,p)),u.forEach(p=>We(c,ts,p))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),Za.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,ve[e]||{},ot.datasets[e]||{},{type:e},ot,ts]}resolveNamedOptions(t,e,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=po(this._resolverCache,t,s);let c=o;if(ag(o,e)){r.$shared=!1,i=re(i)?i():i;const l=this.createResolver(t,i,a);c=Ee(o,i,l)}for(const l of e)r[l]=c[l];return r}createResolver(t,e,i=[""],s){const{resolver:r}=po(this._resolverCache,t,i);return W(e)?Ee(r,e,void 0,s):r}}function po(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let r=i.get(s);return r||(r={resolver:As(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const og=n=>W(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||re(n[e]),!1);function ag(n,t){const{isScriptable:e,isIndexable:i}=Ea(n);for(const s of t){const r=e(s),o=i(s),a=(o||r)&&n[s];if(r&&(re(a)||og(a))||o&&Q(a))return!0}return!1}var cg="4.4.0";const lg=["top","bottom","left","right","chartArea"];function go(n,t){return n==="top"||n==="bottom"||lg.indexOf(n)===-1&&t==="x"}function mo(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function bo(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),G(e&&e.onComplete,[n],t)}function hg(n){const t=n.chart,e=t.options.animation;G(e&&e.onProgress,[n],t)}function tc(n){return Na()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Un={},yo=n=>{const t=tc(n);return Object.values(Un).filter(e=>e.canvas===t).pop()};function ug(n,t,e){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=t){const o=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=o)}}}function dg(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function An(n,t,e){return n.options.clip?n[e]:t[e]}function fg(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:An(e,t,"left"),right:An(e,t,"right"),top:An(i,t,"top"),bottom:An(i,t,"bottom")}:t}class qt{static register(...t){It.add(...t),_o()}static unregister(...t){It.remove(...t),_o()}constructor(t,e){const i=this.config=new rg(e),s=tc(t),r=yo(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Ap(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),c=a&&a.canvas,l=c&&c.height,u=c&&c.width;if(this.id=pd(),this.ctx=a,this.canvas=c,this.width=u,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yp,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ad(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],Un[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Vt.listen(this,"complete",bo),Vt.listen(this,"progress",hg),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return U(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return It}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ir(this.canvas,this.ctx),this}stop(){return Vt.stop(this),this}resize(t,e){Vt.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,zr(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),G(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};J(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],c=ss(o,a),l=c==="r",u=c==="x";return{options:a,dposition:l?"chartArea":u?"bottom":"left",dtype:l?"radialLinear":u?"category":"linear"}}))),J(r,o=>{const a=o.options,c=a.id,l=ss(c,a),u=B(a.type,o.dtype);(a.position===void 0||go(a.position,l)!==go(o.dposition))&&(a.position=o.dposition),s[c]=!0;let p=null;if(c in i&&i[c].type===u)p=i[c];else{const g=It.getScale(u);p=new g({id:c,type:u,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(a,t)}),J(s,(o,a)=>{o||delete i[a]}),J(i,o=>{yt.configure(this,o,o.options),yt.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(mo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const r=e[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||is(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=It.getController(a),{datasetElementType:l,dataElementType:u}=ot.datasets[a];Object.assign(c,{dataElementType:It.getElement(u),datasetElementType:l&&It.getElement(l)}),o.controller=new c(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){J(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:p}=this.getDatasetMeta(l),g=!s&&r.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||J(r,l=>{l.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mo("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){J(this.scales,t=>{yt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Pr(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of e){const o=i==="_removeElements"?-r:r;ug(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<e;r++)if(!Pr(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yt.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],J(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,re(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vt.has(this)?this.attached&&!Vt.running(this)&&Vt.start(this):(this.draw(),bo({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,r;for(s=0,r=e.length;s<r;++s){const o=e[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,r=fg(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&di(e,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&fi(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Jt(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const r=lp.modes[e];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=oe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);sn(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Vt.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ir(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Un[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};J(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(c,l)=>{e.addEventListener(this,c,l),t[c]=l},s=(c,l)=>{t[c]&&(e.removeEventListener(this,c,l),delete t[c])},r=(c,l)=>{this.canvas&&this.resize(c,l)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){J(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},J(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let r,o,a,c;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){o=t[a];const l=o&&this.getDatasetMeta(o.datasetIndex).controller;l&&l[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Kn(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,r=(c,l)=>c.filter(u=>!l.some(p=>u.datasetIndex===p.datasetIndex&&u.index===p.index)),o=r(e,t),a=i?t:r(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:r}=this,o=e,a=this._getActiveElements(t,s,i,o),c=xd(t),l=dg(t,this._lastEvent,i,c);i&&(this._lastEvent=null,G(r.onHover,[t,a,this],this),c&&G(r.onClick,[t,a,this],this));const u=!Kn(a,s);return(u||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=l,u}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}D(qt,"defaults",ot),D(qt,"instances",Un),D(qt,"overrides",ve),D(qt,"registry",It),D(qt,"version",cg),D(qt,"getChart",yo);function _o(){return J(qt.instances,n=>n._plugins.invalidate())}function pg(n,t,e){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:c}=t;let l=s/a;n.beginPath(),n.arc(r,o,a,i-l,e+l),c>s?(l=s/c,n.arc(r,o,c,e+l,i-l,!0)):n.arc(r,o,s,e+at,i-at),n.closePath(),n.clip()}function gg(n){return Os(n,["outerStart","outerEnd","innerStart","innerEnd"])}function mg(n,t,e,i){const s=gg(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),a=c=>{const l=(e-Math.min(r,c))*i/2;return ft(c,0,Math.min(r,l))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:ft(s.innerStart,0,o),innerEnd:ft(s.innerEnd,0,o)}}function Te(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function ni(n,t,e,i,s,r){const{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=t,p=Math.max(t.outerRadius+i+e-l,0),g=u>0?u+i+e+l:0;let m=0;const b=s-c;if(i){const X=u>0?u-i:0,K=p>0?p-i:0,et=(X+K)/2,kt=et!==0?b*et/(et+i):b;m=(b-kt)/2}const _=Math.max(.001,b*p-e/tt)/p,x=(b-_)/2,w=c+x+m,S=s-x-m,{outerStart:C,outerEnd:M,innerStart:k,innerEnd:O}=mg(t,g,p,S-w),E=p-C,A=p-M,L=w+C/E,F=S-M/A,j=g+k,H=g+O,it=w+k/j,xt=S-O/H;if(n.beginPath(),r){const X=(L+F)/2;if(n.arc(o,a,p,L,X),n.arc(o,a,p,X,F),M>0){const ht=Te(A,F,o,a);n.arc(ht.x,ht.y,M,F,S+at)}const K=Te(H,S,o,a);if(n.lineTo(K.x,K.y),O>0){const ht=Te(H,xt,o,a);n.arc(ht.x,ht.y,O,S+at,xt+Math.PI)}const et=(S-O/g+(w+k/g))/2;if(n.arc(o,a,g,S-O/g,et,!0),n.arc(o,a,g,et,w+k/g,!0),k>0){const ht=Te(j,it,o,a);n.arc(ht.x,ht.y,k,it+Math.PI,w-at)}const kt=Te(E,w,o,a);if(n.lineTo(kt.x,kt.y),C>0){const ht=Te(E,L,o,a);n.arc(ht.x,ht.y,C,w-at,L)}}else{n.moveTo(o,a);const X=Math.cos(L)*p+o,K=Math.sin(L)*p+a;n.lineTo(X,K);const et=Math.cos(F)*p+o,kt=Math.sin(F)*p+a;n.lineTo(et,kt)}n.closePath()}function bg(n,t,e,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let c=t.endAngle;if(r){ni(n,t,e,i,c,s);for(let l=0;l<r;++l)n.fill();isNaN(a)||(c=o+(a%Z||Z))}return ni(n,t,e,i,c,s),n.fill(),c}function yg(n,t,e,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:u,borderDash:p,borderDashOffset:g}=c,m=c.borderAlign==="inner";if(!l)return;n.setLineDash(p||[]),n.lineDashOffset=g,m?(n.lineWidth=l*2,n.lineJoin=u||"round"):(n.lineWidth=l,n.lineJoin=u||"bevel");let b=t.endAngle;if(r){ni(n,t,e,i,b,s);for(let _=0;_<r;++_)n.stroke();isNaN(a)||(b=o+(a%Z||Z))}m&&pg(n,t,b),r||(ni(n,t,e,i,b,s),n.stroke())}class qe extends Dt{constructor(e){super();D(this,"circumference");D(this,"endAngle");D(this,"fullCircles");D(this,"innerRadius");D(this,"outerRadius");D(this,"pixelMargin");D(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=va(r,{x:e,y:i}),{startAngle:c,endAngle:l,innerRadius:u,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,_=B(g,l-c)>=Z||rn(o,c,l),x=Xt(a,u+m,p+m);return _&&x}getCenterPoint(e){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:u}=this.options,p=(r+o)/2,g=(a+c+u+l)/2;return{x:i+Math.cos(p)*g,y:s+Math.sin(p)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Z?Math.floor(s/Z):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const l=1-Math.sin(Math.min(tt,s||0)),u=r*l;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,bg(e,this,u,o,a),yg(e,this,u,o,a),e.restore()}}D(qe,"id","arc"),D(qe,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),D(qe,"defaultRoutes",{backgroundColor:"backgroundColor"}),D(qe,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function ec(n,t,e=t){n.lineCap=B(e.borderCapStyle,t.borderCapStyle),n.setLineDash(B(e.borderDash,t.borderDash)),n.lineDashOffset=B(e.borderDashOffset,t.borderDashOffset),n.lineJoin=B(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=B(e.borderWidth,t.borderWidth),n.strokeStyle=B(e.borderColor,t.borderColor)}function _g(n,t,e){n.lineTo(e.x,e.y)}function xg(n){return n.stepped?Wd:n.tension||n.cubicInterpolationMode==="monotone"?Vd:_g}function nc(n,t,e={}){const i=n.length,{start:s=0,end:r=i-1}=e,{start:o,end:a}=t,c=Math.max(s,o),l=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:c,loop:t.loop,ilen:l<c&&!u?i+l-c:l-c}}function vg(n,t,e,i){const{points:s,options:r}=t,{count:o,start:a,loop:c,ilen:l}=nc(s,e,i),u=xg(r);let{move:p=!0,reverse:g}=i||{},m,b,_;for(m=0;m<=l;++m)b=s[(a+(g?l-m:m))%o],!b.skip&&(p?(n.moveTo(b.x,b.y),p=!1):u(n,_,b,g,r.stepped),_=b);return c&&(b=s[(a+(g?l:0))%o],u(n,_,b,g,r.stepped)),!!c}function wg(n,t,e,i){const s=t.points,{count:r,start:o,ilen:a}=nc(s,e,i),{move:c=!0,reverse:l}=i||{};let u=0,p=0,g,m,b,_,x,w;const S=M=>(o+(l?a-M:M))%r,C=()=>{_!==x&&(n.lineTo(u,x),n.lineTo(u,_),n.lineTo(u,w))};for(c&&(m=s[S(0)],n.moveTo(m.x,m.y)),g=0;g<=a;++g){if(m=s[S(g)],m.skip)continue;const M=m.x,k=m.y,O=M|0;O===b?(k<_?_=k:k>x&&(x=k),u=(p*u+M)/++p):(C(),n.lineTo(M,k),b=O,p=0,_=x=k),w=k}C()}function rs(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?wg:vg}function Sg(n){return n.stepped?wf:n.tension||n.cubicInterpolationMode==="monotone"?Sf:be}function kg(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),ec(n,t.options),n.stroke(s)}function Cg(n,t,e,i){const{segments:s,options:r}=t,o=rs(t);for(const a of s)ec(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const Pg=typeof Path2D=="function";function Tg(n,t,e,i){Pg&&!t.options.segment?kg(n,t,e,i):Cg(n,t,e,i)}class ee extends Dt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;pf(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Of(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],r=this.points,o=Wa(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],c=Sg(i);let l,u;for(l=0,u=o.length;l<u;++l){const{start:p,end:g}=o[l],m=r[p],b=r[g];if(m===b){a.push(m);continue}const _=Math.abs((s-m[e])/(b[e]-m[e])),x=c(m,b,_,i.stepped);x[e]=t[e],a.push(x)}return a.length===1?a[0]:a}pathSegment(t,e,i){return rs(this)(t,this,e,i)}path(t,e,i){const s=this.segments,r=rs(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=r(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),Tg(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}D(ee,"id","line"),D(ee,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),D(ee,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),D(ee,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function xo(n,t,e,i){const s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}class $n extends Dt{constructor(e){super();D(this,"parsed");D(this,"skip");D(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return xo(this,e,"x",i)}inYRange(e,i){return xo(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){const s=this.options;this.skip||s.radius<.1||!Jt(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,es(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}D($n,"id","point"),D($n,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),D($n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ic(n,t){const{x:e,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],t);let a,c,l,u,p;return n.horizontal?(p=o/2,a=Math.min(e,s),c=Math.max(e,s),l=i-p,u=i+p):(p=r/2,a=e-p,c=e+p,l=Math.min(i,s),u=Math.max(i,s)),{left:a,top:l,right:c,bottom:u}}function ne(n,t,e,i){return n?0:ft(t,e,i)}function Mg(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,r=Aa(i);return{t:ne(s.top,r.top,0,e),r:ne(s.right,r.right,0,t),b:ne(s.bottom,r.bottom,0,e),l:ne(s.left,r.left,0,t)}}function Og(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=_e(s),o=Math.min(t,e),a=n.borderSkipped,c=i||W(s);return{topLeft:ne(!c||a.top||a.left,r.topLeft,0,o),topRight:ne(!c||a.top||a.right,r.topRight,0,o),bottomLeft:ne(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:ne(!c||a.bottom||a.right,r.bottomRight,0,o)}}function Ag(n){const t=ic(n),e=t.right-t.left,i=t.bottom-t.top,s=Mg(n,e/2,i/2),r=Og(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Wi(n,t,e,i){const s=t===null,r=e===null,a=n&&!(s&&r)&&ic(n,i);return a&&(s||Xt(t,a.left,a.right))&&(r||Xt(e,a.top,a.bottom))}function Eg(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Rg(n,t){n.rect(t.x,t.y,t.w,t.h)}function Vi(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-i,o=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}class qn extends Dt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=Ag(this),a=Eg(o.radius)?on:Rg;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Vi(o,e,r)),t.clip(),a(t,Vi(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Vi(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Wi(this,t,e,i)}inXRange(t,e){return Wi(this,t,null,e)}inYRange(t,e){return Wi(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}D(qn,"id","bar"),D(qn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),D(qn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Dg=Object.freeze({__proto__:null,ArcElement:qe,BarElement:qn,LineElement:ee,PointElement:$n});const os=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],vo=os.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function sc(n){return os[n%os.length]}function rc(n){return vo[n%vo.length]}function Lg(n,t){return n.borderColor=sc(t),n.backgroundColor=rc(t),++t}function Ig(n,t){return n.backgroundColor=n.data.map(()=>sc(t++)),t}function Fg(n,t){return n.backgroundColor=n.data.map(()=>rc(t++)),t}function Ng(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof ye?t=Ig(e,t):s instanceof Ze?t=Fg(e,t):s&&(t=Lg(e,t))}}function wo(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function zg(n){return n&&(n.borderColor||n.backgroundColor)}var Bg={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:r}=s;if(!e.forceOverride&&(wo(i)||zg(s)||r&&wo(r)))return;const o=Ng(n);i.forEach(o)}};function jg(n,t,e,i,s){const r=s.samples||i;if(r>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(r-2);let c=0;const l=t+e-1;let u=t,p,g,m,b,_;for(o[c++]=n[u],p=0;p<r-2;p++){let x=0,w=0,S;const C=Math.floor((p+1)*a)+1+t,M=Math.min(Math.floor((p+2)*a)+1,e)+t,k=M-C;for(S=C;S<M;S++)x+=n[S].x,w+=n[S].y;x/=k,w/=k;const O=Math.floor(p*a)+1+t,E=Math.min(Math.floor((p+1)*a)+1,e)+t,{x:A,y:L}=n[u];for(m=b=-1,S=O;S<E;S++)b=.5*Math.abs((A-x)*(n[S].y-L)-(A-n[S].x)*(w-L)),b>m&&(m=b,g=n[S],_=S);o[c++]=g,u=_}return o[c++]=n[l],o}function Hg(n,t,e,i){let s=0,r=0,o,a,c,l,u,p,g,m,b,_;const x=[],w=t+e-1,S=n[t].x,M=n[w].x-S;for(o=t;o<t+e;++o){a=n[o],c=(a.x-S)/M*i,l=a.y;const k=c|0;if(k===u)l<b?(b=l,p=o):l>_&&(_=l,g=o),s=(r*s+a.x)/++r;else{const O=o-1;if(!U(p)&&!U(g)){const E=Math.min(p,g),A=Math.max(p,g);E!==m&&E!==O&&x.push({...n[E],x:s}),A!==m&&A!==O&&x.push({...n[A],x:s})}o>0&&O!==m&&x.push(n[O]),x.push(a),u=k,r=0,b=_=l,p=g=m=o}}return x}function oc(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function So(n){n.data.datasets.forEach(t=>{oc(t)})}function Wg(n,t){const e=t.length;let i=0,s;const{iScale:r}=n,{min:o,max:a,minDefined:c,maxDefined:l}=r.getUserBounds();return c&&(i=ft(Yt(t,r.axis,o).lo,0,e-1)),l?s=ft(Yt(t,r.axis,a).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var Vg={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){So(n);return}const i=n.width;n.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,c=n.getDatasetMeta(r),l=o||s.data;if(Ue([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=n.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:p,count:g}=Wg(c,l);const m=e.threshold||4*i;if(g<=m){oc(s);return}U(o)&&(s._data=l,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let b;switch(e.algorithm){case"lttb":b=jg(l,p,g,i,e);break;case"min-max":b=Hg(l,p,g,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=b})},destroy(n){So(n)}};function Ug(n,t,e){const i=n.segments,s=n.points,r=t.points,o=[];for(const a of i){let{start:c,end:l}=a;l=Is(c,l,s);const u=as(e,s[c],s[l],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[c],end:s[l]});continue}const p=Wa(t,u);for(const g of p){const m=as(e,r[g.start],r[g.end],g.loop),b=Ha(a,s,m);for(const _ of b)o.push({source:_,target:g,start:{[e]:ko(u,m,"start",Math.max)},end:{[e]:ko(u,m,"end",Math.min)}})}}return o}function as(n,t,e,i){if(i)return;let s=t[n],r=e[n];return n==="angle"&&(s=Pt(s),r=Pt(r)),{property:n,start:s,end:r}}function $g(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Is(o,a,s);const c=s[o],l=s[a];i!==null?(r.push({x:c.x,y:i}),r.push({x:l.x,y:i})):e!==null&&(r.push({x:e,y:c.y}),r.push({x:e,y:l.y}))}),r}function Is(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ko(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function ac(n,t){let e=[],i=!1;return Q(n)?(i=!0,e=n):e=$g(n,t),e.length?new ee({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Co(n){return n&&n.fill!==!1}function qg(n,t,e){let s=n[t].fill;const r=[t];let o;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!rt(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function Xg(n,t,e){const i=Gg(n);if(W(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return rt(s)&&Math.floor(s)===s?Yg(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Yg(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function Jg(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:W(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Kg(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:W(n)?i=n.value:i=t.getBaseValue(),i}function Gg(n){const t=n.options,e=t.fill;let i=B(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Qg(n){const{scale:t,index:e,line:i}=n,s=[],r=i.segments,o=i.points,a=Zg(t,e);a.push(ac({x:null,y:t.bottom},i));for(let c=0;c<r.length;c++){const l=r[c];for(let u=l.start;u<=l.end;u++)tm(s,o[u],a)}return new ee({points:s,options:{}})}function Zg(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function tm(n,t,e){const i=[];for(let s=0;s<e.length;s++){const r=e[s],{first:o,last:a,point:c}=em(r,t,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(n.push(c),!a)break}}n.push(...i)}function em(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],r=n.segments,o=n.points;let a=!1,c=!1;for(let l=0;l<r.length;l++){const u=r[l],p=o[u.start][e],g=o[u.end][e];if(Xt(s,p,g)){a=s===p,c=s===g;break}}return{first:a,last:c,point:i}}class cc{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:r,radius:o}=this;return e=e||{start:0,end:Z},t.arc(s,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function nm(n){const{chart:t,fill:e,line:i}=n;if(rt(e))return im(t,e);if(e==="stack")return Qg(n);if(e==="shape")return!0;const s=sm(n);return s instanceof cc?s:ac(s,i)}function im(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function sm(n){return(n.scale||{}).getPointPositionForValue?om(n):rm(n)}function rm(n){const{scale:t={},fill:e}=n,i=Jg(e,t);if(rt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function om(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=Kg(e,t,r),a=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,r);return new cc({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)a.push(t.getPointPositionForValue(c,o));return a}function Ui(n,t,e){const i=nm(t),{line:s,scale:r,axis:o}=t,a=s.options,c=a.fill,l=a.backgroundColor,{above:u=l,below:p=l}=c||{};i&&s.points.length&&(di(n,e),am(n,{line:s,target:i,above:u,below:p,area:e,scale:r,axis:o}),fi(n))}function am(n,t){const{line:e,target:i,above:s,below:r,area:o,scale:a}=t,c=e._loop?"angle":t.axis;n.save(),c==="x"&&r!==s&&(Po(n,i,o.top),To(n,{line:e,target:i,color:s,scale:a,property:c}),n.restore(),n.save(),Po(n,i,o.bottom)),To(n,{line:e,target:i,color:r,scale:a,property:c}),n.restore()}function Po(n,t,e){const{segments:i,points:s}=t;let r=!0,o=!1;n.beginPath();for(const a of i){const{start:c,end:l}=a,u=s[c],p=s[Is(c,l,s)];r?(n.moveTo(u.x,u.y),r=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(p.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function To(n,t){const{line:e,target:i,property:s,color:r,scale:o}=t,a=Ug(e,i,s);for(const{source:c,target:l,start:u,end:p}of a){const{style:{backgroundColor:g=r}={}}=c,m=i!==!0;n.save(),n.fillStyle=g,cm(n,o,m&&as(s,u,p)),n.beginPath();const b=!!e.pathSegment(n,c);let _;if(m){b?n.closePath():Mo(n,i,p,s);const x=!!i.pathSegment(n,l,{move:b,reverse:!0});_=b&&x,_||Mo(n,i,u,s)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function cm(n,t,e){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};r==="x"&&(n.beginPath(),n.rect(o,i,a-o,s-i),n.clip())}function Mo(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var lm={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let r,o,a,c;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof ee&&(c={visible:n.isDatasetVisible(o),index:o,fill:Xg(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,s.push(c);for(o=0;o<i;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=qg(s,o,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Ui(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Co(r)&&Ui(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Co(i)||e.drawTime!=="beforeDatasetDraw"||Ui(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Oo=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},hm=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Ao extends Dt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=G(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=ut(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Oo(i,r);let l,u;e.font=s.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,r,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,s,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=s+a;let p=t;r.textAlign="left",r.textBaseline="middle";let g=-1,m=-u;return this.legendItems.forEach((b,_)=>{const x=i+e/2+r.measureText(b.text).width;(_===0||l[l.length-1]+x+2*a>o)&&(p+=u,l[l.length-(_>0?0:1)]=0,m+=u,g++),c[_]={left:0,top:m,row:g,width:x,height:s},l[l.length-1]+=x+a}),p}_fitCols(t,e,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-t;let p=a,g=0,m=0,b=0,_=0;return this.legendItems.forEach((x,w)=>{const{itemWidth:S,itemHeight:C}=um(i,e,r,x,s);w>0&&m+C+2*a>u&&(p+=g+a,l.push({width:g,height:m}),b+=g+a,_++,g=m=0),c[w]={left:b,top:m,col:_,width:S,height:C},g=Math.max(g,S),m+=C+a}),p+=g,l.push({width:g,height:m}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Me(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=bt(i,this.left+s,this.right-this.lineWidths[a]);for(const l of e)a!==l.row&&(a=l.row,c=bt(i,this.left+s,this.right-this.lineWidths[a])),l.top+=this.top+t+s,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+s}else{let a=0,c=bt(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const l of e)l.col!==a&&(a=l.col,c=bt(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+s,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;di(t,this),this._draw(),fi(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=ot.color,c=Me(t.rtl,this.left,this.width),l=ut(o.font),{padding:u}=o,p=l.size,g=p/2;let m;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=l.string;const{boxWidth:b,boxHeight:_,itemHeight:x}=Oo(o,p),w=function(O,E,A){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;s.save();const L=B(A.lineWidth,1);if(s.fillStyle=B(A.fillStyle,a),s.lineCap=B(A.lineCap,"butt"),s.lineDashOffset=B(A.lineDashOffset,0),s.lineJoin=B(A.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=B(A.strokeStyle,a),s.setLineDash(B(A.lineDash,[])),o.usePointStyle){const F={radius:_*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:L},j=c.xPlus(O,b/2),H=E+g;Oa(s,F,j,H,o.pointStyleWidth&&b)}else{const F=E+Math.max((p-_)/2,0),j=c.leftForLtr(O,b),H=_e(A.borderRadius);s.beginPath(),Object.values(H).some(it=>it!==0)?on(s,{x:j,y:F,w:b,h:_,radius:H}):s.rect(j,F,b,_),s.fill(),L!==0&&s.stroke()}s.restore()},S=function(O,E,A){we(s,A.text,O,E+x/2,l,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},C=this.isHorizontal(),M=this._computeTitleHeight();C?m={x:bt(r,this.left+u,this.right-i[0]),y:this.top+u+M,line:0}:m={x:this.left+u,y:bt(r,this.top+M+u,this.bottom-e[0].height),line:0},za(this.ctx,t.textDirection);const k=x+u;this.legendItems.forEach((O,E)=>{s.strokeStyle=O.fontColor,s.fillStyle=O.fontColor;const A=s.measureText(O.text).width,L=c.textAlign(O.textAlign||(O.textAlign=o.textAlign)),F=b+g+A;let j=m.x,H=m.y;c.setWidth(this.width),C?E>0&&j+F+u>this.right&&(H=m.y+=k,m.line++,j=m.x=bt(r,this.left+u,this.right-i[m.line])):E>0&&H+k>this.bottom&&(j=m.x=j+e[m.line].width+u,m.line++,H=m.y=bt(r,this.top+M+u,this.bottom-e[m.line].height));const it=c.x(j);if(w(it,H,O),j=Ed(L,j+b+g,C?j+F:this.right,t.rtl),S(c.x(j),H,O),C)m.x+=F+u;else if(typeof O.text!="string"){const xt=l.lineHeight;m.y+=lc(O,xt)+u}else m.y+=k}),Ba(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ut(e.font),s=_t(e.padding);if(!e.display)return;const r=Me(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=i.size/2,l=s.top+c;let u,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),u=this.top+l,p=bt(t.align,p,this.right-g);else{const b=this.columnSizes.reduce((_,x)=>Math.max(_,x.height),0);u=l+bt(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const m=bt(a,p,p+g);o.textAlign=r.textAlign(Ts(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,we(o,e.text,m,u,i)}_computeTitleHeight(){const t=this.options.title,e=ut(t.font),i=_t(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(Xt(t,this.left,this.right)&&Xt(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Xt(t,s.left,s.left+s.width)&&Xt(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!pm(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=hm(s,i);s&&!r&&G(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&G(e.onHover,[t,i,this],this)}else i&&G(e.onClick,[t,i,this],this)}}function um(n,t,e,i,s){const r=dm(i,n,t,e),o=fm(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function dm(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+i.measureText(s).width}function fm(n,t,e){let i=n;return typeof t.text!="string"&&(i=lc(t,e)),i}function lc(n,t){const e=n.text?n.text.length:0;return t*e}function pm(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var gm={id:"legend",_element:Ao,start(n,t,e){const i=n.legend=new Ao({ctx:n.ctx,options:e,chart:n});yt.configure(n,i,e),yt.addBox(n,i)},stop(n){yt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;yt.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(e?0:void 0),u=_t(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Fs extends Dt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=Q(i.text)?i.text.length:1;this._padding=_t(i.padding);const r=s*ut(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:r,options:o}=this,a=o.align;let c=0,l,u,p;return this.isHorizontal()?(u=bt(a,i,r),p=e+t,l=r-i):(o.position==="left"?(u=i+t,p=bt(a,s,e),c=tt*-.5):(u=r-t,p=bt(a,e,s),c=tt*.5),l=s-e),{titleX:u,titleY:p,maxWidth:l,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ut(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(r);we(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:l,textAlign:Ts(e.align),textBaseline:"middle",translation:[o,a]})}}function mm(n,t){const e=new Fs({ctx:n.ctx,options:t,chart:n});yt.configure(n,e,t),yt.addBox(n,e),n.titleBlock=e}var bm={id:"title",_element:Fs,start(n,t,e){mm(n,e)},stop(n){const t=n.titleBlock;yt.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;yt.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const En=new WeakMap;var ym={id:"subtitle",start(n,t,e){const i=new Fs({ctx:n.ctx,options:e,chart:n});yt.configure(n,i,e),yt.addBox(n,i),En.set(n,i)},stop(n){yt.removeBox(n,En.get(n)),En.delete(n)},beforeUpdate(n,t,e){const i=En.get(n);yt.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xe={average(n){if(!n.length)return!1;let t,e,i=0,s=0,r=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const c=n[r].element;if(c&&c.hasValue()){const l=c.getCenterPoint(),u=Zi(t,l);u<s&&(s=u,a=c)}}if(a){const c=a.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function Lt(n,t){return t&&(Q(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ut(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function _m(n,t){const{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function Eo(n,t){const e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=t,c=ut(t.bodyFont),l=ut(t.titleFont),u=ut(t.footerFont),p=r.length,g=s.length,m=i.length,b=_t(t.padding);let _=b.height,x=0,w=i.reduce((M,k)=>M+k.before.length+k.lines.length+k.after.length,0);if(w+=n.beforeBody.length+n.afterBody.length,p&&(_+=p*l.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),w){const M=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;_+=m*M+(w-m)*c.lineHeight+(w-1)*t.bodySpacing}g&&(_+=t.footerMarginTop+g*u.lineHeight+(g-1)*t.footerSpacing);let S=0;const C=function(M){x=Math.max(x,e.measureText(M).width+S)};return e.save(),e.font=l.string,J(n.title,C),e.font=c.string,J(n.beforeBody.concat(n.afterBody),C),S=t.displayColors?o+2+t.boxPadding:0,J(i,M=>{J(M.before,C),J(M.lines,C),J(M.after,C)}),S=0,e.font=u.string,J(n.footer,C),e.restore(),x+=b.width,{width:x,height:_}}function xm(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function vm(n,t,e,i){const{x:s,width:r}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&s+r+o>t.width||n==="right"&&s-r-o<0)return!0}function wm(n,t,e,i){const{x:s,width:r}=e,{width:o,chartArea:{left:a,right:c}}=n;let l="center";return i==="center"?l=s<=(a+c)/2?"left":"right":s<=r/2?l="left":s>=o-r/2&&(l="right"),vm(l,n,t,e)&&(l="center"),l}function Ro(n,t,e){const i=e.yAlign||t.yAlign||xm(n,e);return{xAlign:e.xAlign||t.xAlign||wm(n,t,e,i),yAlign:i}}function Sm(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function km(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function Do(n,t,e,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:c}=e,l=s+r,{topLeft:u,topRight:p,bottomLeft:g,bottomRight:m}=_e(o);let b=Sm(t,a);const _=km(t,c,l);return c==="center"?a==="left"?b+=l:a==="right"&&(b-=l):a==="left"?b-=Math.max(u,g)+s:a==="right"&&(b+=Math.max(p,m)+s),{x:ft(b,0,i.width-t.width),y:ft(_,0,i.height-t.height)}}function Rn(n,t,e){const i=_t(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Lo(n){return Lt([],Ut(n))}function Cm(n,t,e){return oe(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Io(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const hc={beforeTitle:Wt,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Wt,beforeBody:Wt,beforeLabel:Wt,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return U(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Wt,afterBody:Wt,beforeFooter:Wt,footer:Wt,afterFooter:Wt};function wt(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?hc[t].call(e,i):s}class cs extends Dt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,r=new Va(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Cm(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=wt(i,"beforeTitle",this,t),r=wt(i,"title",this,t),o=wt(i,"afterTitle",this,t);let a=[];return a=Lt(a,Ut(s)),a=Lt(a,Ut(r)),a=Lt(a,Ut(o)),a}getBeforeBody(t,e){return Lo(wt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return J(t,r=>{const o={before:[],lines:[],after:[]},a=Io(i,r);Lt(o.before,Ut(wt(a,"beforeLabel",this,r))),Lt(o.lines,wt(a,"label",this,r)),Lt(o.after,Ut(wt(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,e){return Lo(wt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=wt(i,"beforeFooter",this,t),r=wt(i,"footer",this,t),o=wt(i,"afterFooter",this,t);let a=[];return a=Lt(a,Ut(s)),a=Lt(a,Ut(r)),a=Lt(a,Ut(o)),a}_createItems(t){const e=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],c,l;for(c=0,l=e.length;c<l;++c)a.push(_m(this.chart,e[c]));return t.filter&&(a=a.filter((u,p,g)=>t.filter(u,p,g,i))),t.itemSort&&(a=a.sort((u,p)=>t.itemSort(u,p,i))),J(a,u=>{const p=Io(t.callbacks,u);s.push(wt(p,"labelColor",this,u)),r.push(wt(p,"labelPointStyle",this,u)),o.push(wt(p,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Xe[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=Eo(this,i),l=Object.assign({},a,c),u=Ro(this.chart,i,l),p=Do(i,l,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const r=this.getCaretPosition(t,i,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:c,topRight:l,bottomLeft:u,bottomRight:p}=_e(a),{x:g,y:m}=t,{width:b,height:_}=e;let x,w,S,C,M,k;return r==="center"?(M=m+_/2,s==="left"?(x=g,w=x-o,C=M+o,k=M-o):(x=g+b,w=x+o,C=M-o,k=M+o),S=x):(s==="left"?w=g+Math.max(c,u)+o:s==="right"?w=g+b-Math.max(l,p)-o:w=this.caretX,r==="top"?(C=m,M=C-o,x=w-o,S=w+o):(C=m+_,M=C+o,x=w+o,S=w-o),k=C),{x1:x,x2:w,x3:S,y1:C,y2:M,y3:k}}drawTitle(t,e,i){const s=this.title,r=s.length;let o,a,c;if(r){const l=Me(i.rtl,this.x,this.width);for(t.x=Rn(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",o=ut(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,c=0;c<r;++c)e.fillText(s[c],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,c+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:c,boxWidth:l}=r,u=ut(r.bodyFont),p=Rn(this,"left",r),g=s.x(p),m=c<u.lineHeight?(u.lineHeight-c)/2:0,b=e.y+m;if(r.usePointStyle){const _={radius:Math.min(l,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=s.leftForLtr(g,l)+l/2,w=b+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,es(t,_,x,w),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,es(t,_,x,w)}else{t.lineWidth=W(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=s.leftForLtr(g,l),x=s.leftForLtr(s.xPlus(g,1),l-2),w=_e(o.borderRadius);Object.values(w).some(S=>S!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,on(t,{x:_,y:b,w:l,h:c,radius:w}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),on(t,{x,y:b+1,w:l-2,h:c-2,radius:w}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(_,b,l,c),t.strokeRect(_,b,l,c),t.fillStyle=o.backgroundColor,t.fillRect(x,b+1,l-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:l,boxPadding:u}=i,p=ut(i.bodyFont);let g=p.lineHeight,m=0;const b=Me(i.rtl,this.x,this.width),_=function(A){e.fillText(A,b.x(t.x+m),t.y+g/2),t.y+=g+r},x=b.textAlign(o);let w,S,C,M,k,O,E;for(e.textAlign=o,e.textBaseline="middle",e.font=p.string,t.x=Rn(this,x,i),e.fillStyle=i.bodyColor,J(this.beforeBody,_),m=a&&x!=="right"?o==="center"?l/2+u:l+2+u:0,M=0,O=s.length;M<O;++M){for(w=s[M],S=this.labelTextColors[M],e.fillStyle=S,J(w.before,_),C=w.lines,a&&C.length&&(this._drawColorBox(e,t,M,b,i),g=Math.max(p.lineHeight,c)),k=0,E=C.length;k<E;++k)_(C[k]),g=p.lineHeight;J(w.after,_)}m=0,g=p.lineHeight,J(this.afterBody,_),t.y-=r}drawFooter(t,e,i){const s=this.footer,r=s.length;let o,a;if(r){const c=Me(i.rtl,this.x,this.width);for(t.x=Rn(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=c.textAlign(i.footerAlign),e.textBaseline="middle",o=ut(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(s[a],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=t,{width:l,height:u}=i,{topLeft:p,topRight:g,bottomLeft:m,bottomRight:b}=_e(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+p,c),o==="top"&&this.drawCaret(t,e,i,s),e.lineTo(a+l-g,c),e.quadraticCurveTo(a+l,c,a+l,c+g),o==="center"&&r==="right"&&this.drawCaret(t,e,i,s),e.lineTo(a+l,c+u-b),e.quadraticCurveTo(a+l,c+u,a+l-b,c+u),o==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(a+m,c+u),e.quadraticCurveTo(a,c+u,a,c+u-m),o==="center"&&r==="left"&&this.drawCaret(t,e,i,s),e.lineTo(a,c+p),e.quadraticCurveTo(a,c,a+p,c),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Xe[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Eo(this,t),c=Object.assign({},o,this._size),l=Ro(e,t,c),u=Do(t,c,l,e);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=_t(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,e),za(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Ba(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:a,index:c})=>{const l=this.chart.getDatasetMeta(a);if(!l)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:l.data[c],index:c}}),r=!Kn(i,s),o=this._positionChanged(s,e);(r||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,i),a=this._positionChanged(o,t),c=e||!Kn(o,r)||a;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return e;const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:s,options:r}=this,o=Xe[r.position].call(this,t,e);return o!==!1&&(i!==o.x||s!==o.y)}}D(cs,"positioners",Xe);var Pm={id:"tooltip",_element:cs,positioners:Xe,afterInit(n,t,e){e&&(n.tooltip=new cs({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Tm=Object.freeze({__proto__:null,Colors:Bg,Decimation:Vg,Filler:lm,Legend:gm,SubTitle:ym,Title:bm,Tooltip:Pm});const Mm=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Om(n,t,e,i){const s=n.indexOf(t);if(s===-1)return Mm(n,t,e,i);const r=n.lastIndexOf(t);return s!==r?e:s}const Am=(n,t)=>n===null?null:ft(Math.round(n),0,t);function Fo(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class ls extends Se{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:r}of e)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(U(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Om(i,t,B(e,t),this._addedLabels),Am(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){return Fo.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}D(ls,"id","category"),D(ls,"defaults",{ticks:{callback:Fo}});function Em(n,t){const e=[],{bounds:s,step:r,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:p,includeBounds:g}=n,m=r||1,b=u-1,{min:_,max:x}=t,w=!U(o),S=!U(a),C=!U(l),M=(x-_)/(p+1);let k=Mr((x-_)/b/m)*m,O,E,A,L;if(k<1e-14&&!w&&!S)return[{value:_},{value:x}];L=Math.ceil(x/k)-Math.floor(_/k),L>b&&(k=Mr(L*k/b/m)*m),U(c)||(O=Math.pow(10,c),k=Math.ceil(k*O)/O),s==="ticks"?(E=Math.floor(_/k)*k,A=Math.ceil(x/k)*k):(E=_,A=x),w&&S&&r&&kd((a-o)/r,k/1e3)?(L=Math.round(Math.min((a-o)/k,u)),k=(a-o)/L,E=o,A=a):C?(E=w?o:E,A=S?a:A,L=l-1,k=(A-E)/L):(L=(A-E)/k,Ke(L,Math.round(L),k/1e3)?L=Math.round(L):L=Math.ceil(L));const F=Math.max(Or(k),Or(E));O=Math.pow(10,U(c)?F:c),E=Math.round(E*O)/O,A=Math.round(A*O)/O;let j=0;for(w&&(g&&E!==o?(e.push({value:o}),E<o&&j++,Ke(Math.round((E+j*k)*O)/O,o,No(o,M,n))&&j++):E<o&&j++);j<L;++j){const H=Math.round((E+j*k)*O)/O;if(S&&H>a)break;e.push({value:H})}return S&&g&&A!==a?e.length&&Ke(e[e.length-1].value,a,No(a,M,n))?e[e.length-1].value=a:e.push({value:a}):(!S||A===a)&&e.push({value:A}),e}function No(n,t,{horizontal:e,minRotation:i}){const s=Et(i),r=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+n).length;return Math.min(t/r,o)}class ii extends Se{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return U(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=c=>s=e?s:c,a=c=>r=i?r:c;if(t){const c=Nt(s),l=Nt(r);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);a(r+c),t||o(s-c)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=Em(s,r);return t.bounds==="ticks"&&xa(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return fn(t,this.chart.options.locale,this.options.ticks.format)}}class hs extends ii{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=rt(t)?t:0,this.max=rt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Et(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}D(hs,"id","linear"),D(hs,"defaults",{ticks:{callback:ui.formatters.numeric}});const cn=n=>Math.floor(te(n)),ge=(n,t)=>Math.pow(10,cn(n)+t);function zo(n){return n/Math.pow(10,cn(n))===1}function Bo(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function Rm(n,t){const e=t-n;let i=cn(e);for(;Bo(n,t,i)>10;)i++;for(;Bo(n,t,i)<10;)i--;return Math.min(i,cn(n))}function Dm(n,{min:t,max:e}){t=Ct(n.min,t);const i=[],s=cn(t);let r=Rm(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),c=s>r?Math.pow(10,s):0,l=Math.round((t-c)*o)/o,u=Math.floor((t-c)/a/10)*a*10;let p=Math.floor((l-u)/Math.pow(10,r)),g=Ct(n.min,Math.round((c+u+p*Math.pow(10,r))*o)/o);for(;g<e;)i.push({value:g,major:zo(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(r++,p=2,o=r>=0?1:o),g=Math.round((c+u+p*Math.pow(10,r))*o)/o;const m=Ct(n.max,g);return i.push({value:m,major:zo(m),significand:p}),i}class us extends Se{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=ii.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return rt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=rt(t)?Math.max(0,t):null,this.max=rt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!rt(this._userMin)&&(this.min=t===ge(this.min,0)?ge(this.min,-1):ge(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=e?s:a;i===s&&(i<=0?(r(1),o(10)):(r(ge(i,-1)),o(ge(s,1)))),i<=0&&r(ge(s,-1)),s<=0&&o(ge(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=Dm(e,this);return t.bounds==="ticks"&&xa(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":fn(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=te(t),this._valueRange=te(this.max)-te(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(te(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}D(us,"id","logarithmic"),D(us,"defaults",{ticks:{callback:ui.formatters.logarithmic,major:{enabled:!0}}});function ds(n){const t=n.ticks;if(t.display&&n.display){const e=_t(t.backdropPadding);return B(t.font&&t.font.size,ot.font.size)+e.height}return 0}function Lm(n,t,e){return e=Q(e)?e:[e],{w:Hd(n,t.string,e),h:e.length*t.lineHeight}}function jo(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function Im(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?tt/r:0;for(let c=0;c<r;c++){const l=o.setContext(n.getPointLabelContext(c));s[c]=l.padding;const u=n.getPointPosition(c,n.drawingArea+s[c],a),p=ut(l.font),g=Lm(n.ctx,p,n._pointLabels[c]);i[c]=g;const m=Pt(n.getIndexAngle(c)+a),b=Math.round(Cs(m)),_=jo(b,u.x,g.w,0,180),x=jo(b,u.y,g.h,90,270);Fm(e,t,m,_,x)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Bm(n,i,s)}function Fm(n,t,e,i,s){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,c=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),s.start<t.t?(c=(t.t-s.start)/o,n.t=Math.min(n.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/o,n.b=Math.max(n.b,t.b+c))}function Nm(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=e,c=n.getPointPosition(t,i+s+o,r),l=Math.round(Cs(Pt(c.angle+at))),u=Wm(c.y,a.h,l),p=jm(l),g=Hm(c.x,a.w,p);return{visible:!0,x:c.x,y:u,textAlign:p,left:g,top:u,right:g+a.w,bottom:u+a.h}}function zm(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:r}=n;return!(Jt({x:e,y:i},t)||Jt({x:e,y:r},t)||Jt({x:s,y:i},t)||Jt({x:s,y:r},t))}function Bm(n,t,e){const i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:ds(r)/2,additionalAngle:o?tt/s:0};let l;for(let u=0;u<s;u++){c.padding=e[u],c.size=t[u];const p=Nm(n,u,c);i.push(p),a==="auto"&&(p.visible=zm(p,l),p.visible&&(l=p))}return i}function jm(n){return n===0||n===180?"center":n<180?"left":"right"}function Hm(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Wm(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Vm(n,t,e){const{left:i,top:s,right:r,bottom:o}=e,{backdropColor:a}=t;if(!U(a)){const c=_e(t.borderRadius),l=_t(t.backdropPadding);n.fillStyle=a;const u=i-l.left,p=s-l.top,g=r-i+l.width,m=o-s+l.height;Object.values(c).some(b=>b!==0)?(n.beginPath(),on(n,{x:u,y:p,w:g,h:m,radius:c}),n.fill()):n.fillRect(u,p,g,m)}}function Um(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const r=n._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(n.getPointLabelContext(s));Vm(e,o,r);const a=ut(o.font),{x:c,y:l,textAlign:u}=r;we(e,n._pointLabels[s],c,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function uc(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,Z);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function $m(n,t,e,i,s){const r=n.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!i||!a||!c||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),uc(n,e,o,i),r.closePath(),r.stroke(),r.restore())}function qm(n,t,e){return oe(n,{label:e,index:t,type:"pointLabel"})}class Ye extends ii{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=_t(ds(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=rt(t)&&!isNaN(t)?t:0,this.max=rt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ds(this.options))}generateTickLabels(t){ii.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=G(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?Im(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=Z/(this._pointLabels.length||1),i=this.options.startAngle||0;return Pt(t*e+Et(i))}getDistanceFromCenterForValue(t){if(U(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(U(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return qm(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-at+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),uc(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:r}=e,o=this._pointLabels.length;let a,c,l;if(e.pointLabels.display&&Um(this,o),s.display&&this.ticks.forEach((u,p)=>{if(p!==0){c=this.getDistanceFromCenterForValue(u.value);const g=this.getContext(p),m=s.setContext(g),b=r.setContext(g);$m(this,m,c,o,b)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:g}=u;!g||!p||(t.lineWidth=g,t.strokeStyle=p,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&!e.reverse)return;const l=i.setContext(this.getContext(c)),u=ut(l.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const p=_t(l.backdropPadding);t.fillRect(-o/2-p.left,-r-u.size/2-p.top,o+p.width,u.size+p.height)}we(t,a.label,0,-r,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}}D(Ye,"id","radialLinear"),D(Ye,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ui.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),D(Ye,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),D(Ye,"descriptors",{angleLines:{_fallback:"grid"}});const gi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},St=Object.keys(gi);function Ho(n,t){return n-t}function Wo(n,t){if(U(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),rt(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(Ae(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,s)),+o)}function Vo(n,t,e,i){const s=St.length;for(let r=St.indexOf(n);r<s-1;++r){const o=gi[St[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return St[r]}return St[s-1]}function Xm(n,t,e,i,s){for(let r=St.length-1;r>=St.indexOf(e);r--){const o=St[r];if(gi[o].common&&n._adapter.diff(s,i,o)>=t-1)return o}return St[e?St.indexOf(e):0]}function Ym(n){for(let t=St.indexOf(n)+1,e=St.length;t<e;++t)if(gi[St[t]].common)return St[t]}function Uo(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Ps(e,t),r=e[i]>=t?e[i]:e[s];n[r]=!0}}function Jm(n,t,e,i){const s=n._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,c;for(a=r;a<=o;a=+s.add(a,1,i))c=e[a],c>=0&&(t[c].major=!0);return t}function $o(n,t,e){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!e?i:Jm(n,i,s,e)}class ln extends Se{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new sp._date(t.adapters.date);s.init(e),Je(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Wo(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(l){!o&&!isNaN(l.min)&&(s=Math.min(s,l.min)),!a&&!isNaN(l.max)&&(r=Math.max(r,l.max))}(!o||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=rt(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),r=rt(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=Md(s,r,o);return this._unit=e.unit||(i.autoSkip?Vo(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):Xm(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Ym(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),$o(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=ft(e,0,o),i=ft(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Vo(r.minUnit,e,i,this._getLabelCapacity(e)),a=B(s.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,l=Ae(c)||c===!0,u={};let p=e,g,m;if(l&&(p=+t.startOf(p,"isoWeek",c)),p=+t.startOf(p,l?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(g=p,m=0;g<i;g=+t.add(g,a,o),m++)Uo(u,g,b);return(g===i||s.bounds==="ticks"||m===1)&&Uo(u,g,b),Object.keys(u).sort(Ho).map(_=>+_)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,r=this._unit,o=e||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,s){const r=this.options,o=r.ticks.callback;if(o)return G(o,[t,e,i],this);const a=r.time.displayFormats,c=this._unit,l=this._majorUnit,u=c&&a[c],p=l&&a[l],g=i[e],m=l&&p&&g&&g.major;return this._adapter.format(t,s||(m?p:u))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=Et(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,$o(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Wo(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Sa(t.sort(Ho))}}D(ln,"id","time"),D(ln,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Dn(n,t,e){let i=0,s=n.length-1,r,o,a,c;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Yt(n,"pos",t)),{pos:r,time:a}=n[i],{pos:o,time:c}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Yt(n,"time",t)),{time:r,pos:a}=n[i],{time:o,pos:c}=n[s]);const l=o-r;return l?a+(c-a)*(t-r)/l:a}class fs extends ln{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Dn(e,this.min),this._tableRange=Dn(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],r=[];let o,a,c,l,u;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],c=s[o-1],l=s[o],Math.round((u+c)/2)!==l&&r.push({time:l,pos:o/(a-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Dn(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Dn(this._table,i*this._tableRange+this._minPos,!0)}}D(fs,"id","timeseries"),D(fs,"defaults",ln.defaults);var Km=Object.freeze({__proto__:null,CategoryScale:ls,LinearScale:hs,LogarithmicScale:us,RadialLinearScale:Ye,TimeScale:ln,TimeSeriesScale:fs});const Gm=[ip,Dg,Tm,Km];qt.register(...Gm);const Qm=["assigned","submitted"],Zm={labels:Qm,datasets:[{data:[3,7]}]},tb={type:"pie",data:Zm,options:{}};new qt(document.getElementById("myChart"),tb);function eb(n,t=!1){let e=`
        <div class="bg-info rounded p-2 mt-2 ">
            <div>
                <b>${n.sender.name}</b> - <span class="text-muted">${n.sent_at}</span> 
            </div>

            <div>
                ${n.body}    
            </div>
        </div>`;if(t)return $("#messages").prepend(e);$("#messages").append(e);const i=document.getElementById("messages");i.scrollTop=i.scrollHeight}Echo.private("App.Models.User."+userId).notification(function(n){alert(n.title)});console.log(classroomId);Echo.join(`classroom.${classroomId}`).here(n=>{console.log(n)}).joining(n=>{console.log("joining"),console.log(n)}).leaving(n=>{console.log("leaving"),console.log(n)}).listen(".new-message",n=>{console.log(n),eb(n)});
